<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta name="msapplication-tap-highlight" content="no"/>
    <meta name="viewport" content="user-scalable=no, initial-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi"/>
    <title>Testing IndexedDB Shim</title>

    <link rel="stylesheet" href="../../node_modules/mocha/mocha.css"/>
    <link rel="stylesheet" href="../../tests-mocha/styles.css"/>
  </head>
  <body>
    <div id="mocha">
      <ul id="supports">
        <li id="supports-websql" class="test">WebSql</li>
        <li id="supports-indexeddb" class="test">IndexedDB</li>
        <li id="supports-mozindexeddb" class="test">mozIndexedDB</li>
        <li id="supports-webkitindexeddb" class="test">webkitIndexedDB</li>
        <li id="supports-msindexeddb" class="test">msIndexedDB</li>
      </ul>
      <div id="options">
        <a id="use-native" href="?useShim=false">Switch to Native IndexedDB</a>
        <a id="use-shim" href="?useShim=true">Switch to IndexedDBShim</a>
      </div>
      <div id="choke-warning">
        <h1>Warning!</h1>
        <ul>
          <li class="test fail">
            <h2>
              This browser has trouble running the <strong>hundreds</strong> of tests on this page.
              If you get test failures, then try running each test suite separately, by clicking the test suite's title.
            </h2>
          </li>
        </ul>
      </div>
    </div>

    <!-- Test Environment -->
    <script src="../../node_modules/mocha/mocha.js"></script>
    <script src="../../node_modules/chai/chai.js"></script>
    <script src="../../node_modules/sinon/pkg/sinon.js"></script>
    <script src="../../tests-mocha/test-environment.js"></script>
    <script src="../../tests-mocha/test-utils.js"></script>

    <!-- IndexedDBShim -->
    <script src="../../dist/indexeddbshim.min.js"></script>
    <!--<script src="../src/Init.js"></script>-->
    <!--<script src="../src/util.js"></script>-->
    <!--<script src="../src/polyfill.js"></script>-->
    <!--<script src="../src/Sca.js"></script>-->
    <!--<script src="../src/Key.js"></script>-->
    <!--<script src="../src/Event.js"></script>-->
    <!--<script src="../src/DOMException.js"></script>-->
    <!--<script src="../src/IDBRequest.js"></script>-->
    <!--<script src="../src/IDBKeyRange.js"></script>-->
    <!--<script src="../src/IDBCursor.js"></script>-->
    <!--<script src="../src/IDBIndex.js"></script>-->
    <!--<script src="../src/IDBObjectStore.js"></script>-->
    <!--<script src="../src/IDBTransaction.js"></script>-->
    <!--<script src="../src/IDBDatabase.js"></script>-->
    <!--<script src="../src/IDBFactory.js"></script>-->
    <!--<script src="../src/setGlobalVars.js"></script>-->

    <script>
    // mocha.setup({ui: 'tdd'});
    var assert = chai.assert;
    var global = window;
    </script>
    <script src="setup.js"></script>

    <!-- Unit Tests -->

    <script src="database.js"></script>
    <script src="index.js"></script>
    <script src="keyrange.js"></script>
    <script src="objectstore.add.js"></script>
    <script src="objectstore.clear.js"></script>
    <script src="objectstore.count.js"></script>
    <script src="objectstore.delete.js"></script>
    <script src="objectstore.get.js"></script>
    <script src="objectstore.js"></script>
    <script src="objectstore.put.js"></script>
    <script src="transaction.js"></script>
    <script>
      mocha.run();
    </script>
  </body>
</html>
