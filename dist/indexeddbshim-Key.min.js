/*! indexeddbshim - v3.2.0 - 2017-12-09 */

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).IDBKeyUtils=e()}}(function(){return function e(t,r,n){function u(a,i){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!i&&c)return c(a,!0);if(o)return o(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return u(r||e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)u(n[a]);return u}({1:[function(e,t,r){t.exports=/[\xC0-\xC5\xC7-\xCF\xD1-\xD6\xD9-\xDD\xE0-\xE5\xE7-\xEF\xF1-\xF6\xF9-\xFD\xFF-\u010F\u0112-\u0125\u0128-\u0130\u0134-\u0137\u0139-\u013E\u0143-\u0148\u014C-\u0151\u0154-\u0165\u0168-\u017E\u01A0\u01A1\u01AF\u01B0\u01CD-\u01DC\u01DE-\u01E3\u01E6-\u01F0\u01F4\u01F5\u01F8-\u021B\u021E\u021F\u0226-\u0233\u0344\u0385\u0386\u0388-\u038A\u038C\u038E-\u0390\u03AA-\u03B0\u03CA-\u03CE\u03D3\u03D4\u0400\u0401\u0403\u0407\u040C-\u040E\u0419\u0439\u0450\u0451\u0453\u0457\u045C-\u045E\u0476\u0477\u04C1\u04C2\u04D0-\u04D3\u04D6\u04D7\u04DA-\u04DF\u04E2-\u04E7\u04EA-\u04F5\u04F8\u04F9\u0622-\u0626\u06C0\u06C2\u06D3\u0929\u0931\u0934\u0958-\u095F\u09CB\u09CC\u09DC\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B48\u0B4B\u0B4C\u0B5C\u0B5D\u0B94\u0BCA-\u0BCC\u0C48\u0CC0\u0CC7\u0CC8\u0CCA\u0CCB\u0D4A-\u0D4C\u0DDA\u0DDC-\u0DDE\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u0F73\u0F75\u0F76\u0F78\u0F81\u0F93\u0F9D\u0FA2\u0FA7\u0FAC\u0FB9\u1026\u1B06\u1B08\u1B0A\u1B0C\u1B0E\u1B12\u1B3B\u1B3D\u1B40\u1B41\u1B43\u1E00-\u1E99\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FC1-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEE\u1FF2-\u1FF4\u1FF6-\u1FFC\u212B\u219A\u219B\u21AE\u21CD-\u21CF\u2204\u2209\u220C\u2224\u2226\u2241\u2244\u2247\u2249\u2260\u2262\u226D-\u2271\u2274\u2275\u2278\u2279\u2280\u2281\u2284\u2285\u2288\u2289\u22AC-\u22AF\u22E0-\u22E3\u22EA-\u22ED\u2ADC\u304C\u304E\u3050\u3052\u3054\u3056\u3058\u305A\u305C\u305E\u3060\u3062\u3065\u3067\u3069\u3070\u3071\u3073\u3074\u3076\u3077\u3079\u307A\u307C\u307D\u3094\u309E\u30AC\u30AE\u30B0\u30B2\u30B4\u30B6\u30B8\u30BA\u30BC\u30BE\u30C0\u30C2\u30C5\u30C7\u30C9\u30D0\u30D1\u30D3\u30D4\u30D6\u30D7\u30D9\u30DA\u30DC\u30DD\u30F4\u30F7-\u30FA\u30FE\uAC00-\uD7A3\uFB1D\uFB1F\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFB4E]|\uD804[\uDC9A\uDC9C\uDCAB\uDD2E\uDD2F\uDF4B\uDF4C]|\uD805[\uDCBB\uDCBC\uDCBE\uDDBA\uDDBB]|\uD834[\uDD5E-\uDD64\uDDBB-\uDDC0]/},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n={},u={};["DEBUG","cacheDatabaseInstances","autoName","fullIDLSupport","checkOrigin","cursorPreloadPackSize","UnicodeIDStart","UnicodeIDContinue","avoidAutoShim","win","DEFAULT_DB_SIZE","useSQLiteIndexes","addNonIDBGlobals","replaceNonIDBGlobals","escapeDatabaseName","unescapeDatabaseName","databaseCharacterEscapeList","databaseNameLengthLimit","escapeNFDForDatabaseNames","addSQLiteExtension",["memoryDatabase",e=>{if(!/^(?::memory:|file::memory:(\?[^#]*)?(#.*)?)?$/.test(e))throw new TypeError('`memoryDatabase` must be the empty string, ":memory:", or a "file::memory:[?queryString][#hash] URL".')}],"deleteDatabaseFiles","databaseBasePath","sysDatabaseBasePath","sqlBusyTimeout","sqlTrace","sqlProfile"].forEach(e=>{let t;Array.isArray(e)&&(t=e[1],e=e[0]),Object.defineProperty(u,e,{get:function(){return n[e]},set:function(r){t&&t(r),n[e]=r}})}),r.default=u,t.exports=r.default},{}],3:[function(e,t,r){"use strict";function n(e,t){return new DOMException.prototype.constructor(t,e||"DOMException")}function u(e,t,r){if(a.default.DEBUG){r&&r.message&&(r=r.message);const n="function"==typeof console.error?"error":"log";console[n](e+": "+t+". "+(r||"")),console.trace&&console.trace()}}function o(e){return e&&"object"==typeof e&&"string"==typeof e.name}Object.defineProperty(r,"__esModule",{value:!0}),r.webSQLErrback=r.createDOMException=r.ShimDOMException=r.findError=r.logError=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(e("./CFG"));const i={IndexSizeError:1,HierarchyRequestError:3,WrongDocumentError:4,InvalidCharacterError:5,NoModificationAllowedError:7,NotFoundError:8,NotSupportedError:9,InUseAttributeError:10,InvalidStateError:11,SyntaxError:12,InvalidModificationError:13,NamespaceError:14,InvalidAccessError:15,TypeMismatchError:17,SecurityError:18,NetworkError:19,AbortError:20,URLMismatchError:21,QuotaExceededError:22,TimeoutError:23,InvalidNodeTypeError:24,DataCloneError:25,EncodingError:0,NotReadableError:0,UnknownError:0,ConstraintError:0,DataError:0,TransactionInactiveError:0,ReadOnlyError:0,VersionError:0,OperationError:0,NotAllowedError:0},c={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},s=function(){function e(e,t){this[Symbol.toStringTag]="DOMException",this._code=t in i?i[t]:c[t]||0,this._name=t||"Error",this._message=void 0===e?"":""+e,Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,writable:!0,value:this._code}),void 0!==t&&Object.defineProperty(this,"name",{configurable:!0,enumerable:!0,writable:!0,value:this._name}),void 0!==e&&Object.defineProperty(this,"message",{configurable:!0,enumerable:!1,writable:!0,value:this._message})}const t=function(){};return t.prototype=Object.create(Error.prototype),["name","message"].forEach(r=>{Object.defineProperty(t.prototype,r,{enumerable:!0,get:function(){if(!(this instanceof e||this instanceof t||this instanceof Error))throw new TypeError("Illegal invocation");return this["_"+r]}})}),Object.defineProperty(t.prototype,"code",{configurable:!0,enumerable:!0,get:function(){throw new TypeError("Illegal invocation")}}),e.prototype=new t,e.prototype[Symbol.toStringTag]="DOMExceptionPrototype",Object.defineProperty(e,"prototype",{writable:!1}),Object.keys(i).forEach(t=>{Object.defineProperty(e.prototype,t,{enumerable:!0,configurable:!1,value:i[t]}),Object.defineProperty(e,t,{enumerable:!0,configurable:!1,value:i[t]})}),Object.keys(c).forEach(t=>{Object.defineProperty(e.prototype,t,{enumerable:!0,configurable:!1,value:c[t]}),Object.defineProperty(e,t,{enumerable:!0,configurable:!1,value:c[t]})}),Object.defineProperty(e.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:e}),e}();let l,f=!1;try{o(l=n("test name","test message"))&&"test name"===l.name&&"test message"===l.message&&(f=!0)}catch(e){}let d,p;f?(r.ShimDOMException=p=DOMException,r.createDOMException=d=function(e,t,r){return u(e,t,r),n(e,t)}):(r.ShimDOMException=p=s,r.createDOMException=d=function(e,t,r){return u(e,t,r),function(e,t){return new s(t,e)}(e,t)}),r.logError=u,r.findError=function(e){let t;if(e){if(1===e.length)return e[0];for(let r=0;r<e.length;r++){const n=e[r];if(o(n))return n;n&&"string"==typeof n.message&&(t=n)}}return t},r.ShimDOMException=p,r.createDOMException=d,r.webSQLErrback=function(e){let t,r;switch(e.code){case 4:t="QuotaExceededError",r="The operation failed because there was not enough remaining storage space, or the storage quota was reached and the user declined to give more space to the database.";break;default:t="UnknownError",r="The operation failed for reasons unrelated to the database itself and not covered by any other errors."}r+=" ("+e.message+")--("+e.code+")";const n=d(t,r);return n.sqlError=e,n}},{"./CFG":2}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(e){return 1===(e=e.toString(32)).length?"0"+e:e}function o(e){return(e+s(11)).slice(0,11)}function a(e){let t="";for(let r=0;r<e.length;r++)t+=(31-parseInt(e[r],32)).toString(32);return t}function i(e,t){if((t=parseInt(t,32))<0)return c(parseInt(e,32)*Math.pow(32,t-10));if(t<11){let r=e.slice(0,t);r=parseInt(r,32);let n=e.slice(t);return n=parseInt(n,32)*Math.pow(32,t-11),c(r+n)}{const r=e+s(t-11);return parseInt(r,32)}}function c(e,t){return t=t||16,parseFloat(e.toPrecision(t))}function s(e){return"0".repeat(e)}function l(e){return"-"+e}function f(e){if(Array.isArray(e))return"array";if(S.isDate(e))return"date";if(S.isBinary(e))return"binary";const t=typeof e;return["string","number"].includes(t)?t:"invalid"}function d(e,t){return y(e,t,!1,!0)}function p(e){let t=0,r=0;if(ArrayBuffer.isView(e)){if(void 0===e.buffer)throw new TypeError("Could not copy the bytes held by a buffer source as the buffer was undefined.");t=e.byteOffset,r=e.byteLength}else r=e.byteLength;return new Uint8Array(e.buffer||e,t,r)}function y(e,t,r,n){if((t=t||[]).includes(e))return{type:"array",invalid:!0,message:"An array key cannot be circular"};const u=f(e),o={type:u,value:e};switch(u){case"number":return Number.isNaN(e)?{type:"NaN",invalid:!0}:o;case"string":return o;case"binary":return{type:"binary",value:p(e)};case"array":{const o=e.length;t.push(e);const a=[];for(let i=0;i<o;i++){if(!r&&!Object.prototype.hasOwnProperty.call(e,i))return{type:u,invalid:!0,message:"Does not have own index property"};try{const o=y(e[i],t,!1,n);if(o.invalid){if(r)continue;return{type:u,invalid:!0,message:"Bad array entry value-to-key conversion"}}(!r||!n&&a.every(e=>0!==(0,N.default)(e,o.value))||n&&a.every(e=>0!==(0,N.default)(e,o)))&&a.push(n?o:o.value)}catch(e){if(!r)throw e}}return{type:u,value:a}}case"date":return Number.isNaN(e.getTime())?{type:u,invalid:!0,message:"Not a valid date"}:n?{type:u,value:e.getTime()}:{type:u,value:new Date(e.getTime())};case"invalid":default:{const t=null===e?"null":typeof e;return{type:t,invalid:!0,message:"Not a valid key; type "+t}}}}function E(e,t){return y(e,null,!0,t)}function g(e,t,r,n){const u=D(e,t,r,n);return u.failure?u:r?E(u.value,n):y(u.value,null,!1,n)}function D(e,t,r,n){if(Array.isArray(t)){const u=[];return t.some(t=>{const o=D(e,t,r,n);if(o.failure)return!0;u.push(o.value)},[])?{failure:!0}:{value:u}}if(""===t)return{value:e};return t.split(".").some((t,r)=>{if("length"!==t||"string"!=typeof e&&!Array.isArray(e))if(S.isBlob(e))switch(t){case"size":case"type":e=e[t]}else{if(!S.isFile(e))return!S.isObj(e)||!Object.prototype.hasOwnProperty.call(e,t)||void 0===(e=e[t]);switch(t){case"name":case"lastModified":e=e[t];break;case"lastModifiedDate":e=new Date(e.lastModified)}}else e=e.length})?{failure:!0}:{value:e}}function b(e,t,r){let n=void 0===t.lower,u=void 0===t.upper;const o=F(e,!0),a=r?t.__lowerCached:F(t.lower,!0),i=r?t.__upperCached:F(t.upper,!0);return void 0!==t.lower&&(t.lowerOpen&&o>a&&(n=!0),!t.lowerOpen&&o>=a&&(n=!0)),void 0!==t.upper&&(t.upperOpen&&o<i&&(u=!0),!t.upperOpen&&o<=i&&(u=!0)),n&&u}function h(e,t){const r=[];if(Array.isArray(e))for(let n=0;n<e.length;n++){let u=e[n];if(Array.isArray(u)){if(t&&t.lower===t.upper)continue;if(1!==u.length){h(u,t).length>0&&r.push(u);continue}u=u[0]}(null==t||b(u,t,!0))&&r.push(u)}else(null==t||b(e,t,!0))&&r.push(e);return r}function m(e){const t=e.type,r=e.value;switch(t){case"number":case"string":return r;case"array":{const e=[],t=r.length;let n=0;for(;n<t;){const t=m(r[n]);e[n]=t,n++}return e}case"date":return new Date(r);case"binary":{const e=r.length,t=new ArrayBuffer(e);return new Uint8Array(t,r.byteOffset||0,r.byteLength).set(r),t}case"invalid":default:throw new Error("Bad key")}}function F(e,t){return void 0===e?null:M[f(e)].encode(e,t)}function C(e,t){if("string"==typeof e)return M[R[e.slice(0,1)]].decode(e,t)}function v(e,t,r,n){e.executeSql('SELECT "currNum" FROM __sys__ WHERE "name" = ?',[S.escapeSQLiteStatement(t.__currentName)],function(e,t){r(1!==t.rows.length?1:t.rows.item(0).currNum)},function(e,t){n((0,_.createDOMException)("DataError","Could not get the auto increment value for key",t))})}function A(e,t,r,n,u){const o='UPDATE __sys__ SET "currNum" = ? WHERE "name" = ?',a=[r,S.escapeSQLiteStatement(t.__currentName)];B.default.DEBUG&&console.log(o,a),e.executeSql(o,a,function(e,t){n(r)},function(e,t){u((0,_.createDOMException)("UnknownError","Could not set the auto increment value for key",t))})}function O(e,t,r,n,u){return r=r===T?r+2:r+1,A(e,t,r,n,u)}Object.defineProperty(r,"__esModule",{value:!0}),r.possiblyUpdateKeyGenerator=r.generateKeyForStore=r.assignCurrentNumber=r.findMultiEntryMatches=r.isKeyInRange=r.isMultiEntryMatch=r.checkKeyCouldBeInjectedIntoValue=r.injectKeyIntoValueUsingKeyPath=r.extractKeyValueDecodedFromValueUsingKeyPath=r.evaluateKeyPathOnValue=r.extractKeyFromValueUsingKeyPath=r.convertValueToKeyRethrowingAndIfInvalid=r.convertValueToMultiEntryKey=r.convertValueToKey=r.convertValueToMultiEntryKeyDecoded=r.convertValueToKeyValueDecoded=r.convertKeyToValue=r.roundTrip=r.decode=r.encode=void 0;var _=e("./DOMException"),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("./util")),N=n(e("./cmp")),B=n(e("./CFG"));const I={invalid:100,number:200,date:300,string:400,binary:500,array:600},w=Object.keys(I);w.forEach(e=>{I[e]=String.fromCharCode(I[e])});const R=w.reduce((e,t)=>(e[I[t]]=t,e),{}),x=["negativeInfinity","bigNegative","smallNegative","smallPositive","bigPositive","positiveInfinity"],M={invalid:{encode:function(e){return I.invalid+"-"},decode:function(e){}},number:{encode:function(e){let t=e===Number.MIN_VALUE?"0."+"0".repeat(214)+"2":Math.abs(e).toString(32);const r=t.indexOf("."),n=(t=-1!==r?t.replace(".",""):t).search(/[^0]/);t=t.slice(n);let i,c,l;return isFinite(e)?e<0?e>-1?(i=x.indexOf("smallNegative"),c=u(n),l=a(o(t))):(i=x.indexOf("bigNegative"),c=a(u(-1!==r?r:t.length)),l=a(o(t))):e<1?(i=x.indexOf("smallPositive"),c=a(u(n)),l=o(t)):(i=x.indexOf("bigPositive"),c=u(-1!==r?r:t.length),l=o(t)):(c=s(2),l=s(11),i=x.indexOf(e>0?"positiveInfinity":"negativeInfinity")),I.number+"-"+i+c+l},decode:function(e){const t=+e.substr(2,1);let r=e.substr(3,2),n=e.substr(5,11);switch(x[t]){case"negativeInfinity":return-1/0;case"positiveInfinity":return 1/0;case"bigPositive":return i(n,r);case"smallPositive":return r=l(a(r)),i(n,r);case"smallNegative":return r=l(r),n=a(n),-i(n,r);case"bigNegative":return r=a(r),n=a(n),-i(n,r);default:throw new Error("Invalid number.")}}},string:{encode:function(e,t){return t&&(e=e.replace(/(.)/g,"-$1")+" "),I.string+"-"+e},decode:function(e,t){return e=e.slice(2),t&&(e=e.substr(0,e.length-1).replace(/-(.)/g,"$1")),e}},array:{encode:function(e){const t=[];for(let r=0;r<e.length;r++){const n=F(e[r],!0);t[r]=n}return t.push(I.invalid+"-"),I.array+"-"+JSON.stringify(t)},decode:function(e){const t=JSON.parse(e.slice(2));t.pop();for(let e=0;e<t.length;e++){const r=C(t[e],!0);t[e]=r}return t}},date:{encode:function(e){return I.date+"-"+e.toJSON()},decode:function(e){return new Date(e.slice(2))}},binary:{encode:function(e){return I.binary+"-"+(e.byteLength?[...p(e)].map(e=>S.padStart(e,3,"0")):"")},decode:function(e){const t=e.slice(2),r=t.length?t.split(",").map(e=>parseInt(e,10)):[],n=new ArrayBuffer(r.length);return new Uint8Array(n).set(r),n}}},T=9007199254740992;r.encode=F,r.decode=C,r.roundTrip=function(e,t){return C(F(e,t),t)},r.convertKeyToValue=m,r.convertValueToKeyValueDecoded=y,r.convertValueToMultiEntryKeyDecoded=E,r.convertValueToKey=d,r.convertValueToMultiEntryKey=function(e){return y(e,null,!0,!0)},r.convertValueToKeyRethrowingAndIfInvalid=function(e,t){const r=d(e,t);if(r.invalid)throw(0,_.createDOMException)("DataError",r.message||"Not a valid key; type: "+r.type);return r},r.extractKeyFromValueUsingKeyPath=function(e,t,r){return g(e,t,r,!0)},r.evaluateKeyPathOnValue=function(e,t,r){return D(e,t,r,!0)},r.extractKeyValueDecodedFromValueUsingKeyPath=g,r.injectKeyIntoValueUsingKeyPath=function(e,t,r){const n=r.split("."),u=n.pop();for(let t=0;t<n.length;t++){const r=n[t];Object.prototype.hasOwnProperty.call(e,r)||(e[r]={}),e=e[r]}e[u]=t},r.checkKeyCouldBeInjectedIntoValue=function(e,t){const r=t.split(".");r.pop();for(let t=0;t<r.length;t++){if(!S.isObj(e))return!1;const n=r[t];if(!Object.prototype.hasOwnProperty.call(e,n))return!0;e=e[n]}return S.isObj(e)},r.isMultiEntryMatch=function(e,t){return"array"===R[t.slice(0,1)]?t.indexOf(e)>1:t===e},r.isKeyInRange=b,r.findMultiEntryMatches=h,r.assignCurrentNumber=A,r.generateKeyForStore=function(e,t,r,n){v(e,t,function(u){if(u>T)return r("failure");O(e,t,u,function(){r(null,u,u)},n)},n)},r.possiblyUpdateKeyGenerator=function(e,t,r,n,u){"number"!=typeof r||r<1?n():v(e,t,function(o){const a=Math.floor(Math.min(r,T));a>=o?O(e,t,a,function(){n(o)},u):n()},u)}},{"./CFG":2,"./DOMException":3,"./cmp":5,"./util":6}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(e("./CFG")),u=e("./Key");r.default=function(e,t){const r=(0,u.encode)(e),o=(0,u.encode)(t),a=r>o?1:r===o?0:-1;if(n.default.DEBUG){let n=(0,u.decode)(r),a=(0,u.decode)(o);"object"==typeof e&&(e=JSON.stringify(e),n=JSON.stringify(n)),"object"==typeof t&&(t=JSON.stringify(t),a=JSON.stringify(a)),n!==e&&console.warn(e+" was incorrectly encoded as "+n),a!==t&&console.warn(t+" was incorrectly encoded as "+a)}return a},t.exports=r.default},{"./CFG":2,"./Key":4}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(e){return e.replace(/([\uD800-\uDBFF])(?![\uDC00-\uDFFF])|(^|[^\uD800-\uDBFF])([\uDC00-\uDFFF])/g,function(e,t,r,n){return t?"^2"+g(t.charCodeAt().toString(16),4,"0"):(r||"")+"^3"+g(n.charCodeAt().toString(16),4,"0")})}function o(e){return"_"+u(e.replace(/\^/g,"^^").replace(/\0/g,"^0").replace(/([A-Z])/g,"^$1"))}function a(e){return u(e.replace(/\^/g,"^^").replace(/\0/g,"^0"))}function i(e){return l(e).replace(/\^0/g,"\0").replace(/\^\^/g,"^")}function c(e){return e.replace(/"/g,'""')}function s(e){return'"'+c(e)+'"'}function l(e){return e.replace(/(\^+)3(d[0-9a-f]{3})/g,(e,t,r)=>t.length%2?String.fromCharCode(parseInt(r,16)):e).replace(/(\^+)2(d[0-9a-f]{3})/g,(e,t,r)=>t.length%2?String.fromCharCode(parseInt(r,16)):e)}function f(e){return e&&"object"==typeof e}function d(e){return f(e)&&"function"==typeof e[Symbol.iterator]}function p(e){const t="(?:"+(D.default.UnicodeIDStart||"[$A-Z_a-z]")+"|[$_])",r="(?:"+(D.default.UnicodeIDContinue||"[$0-9A-Z_a-z]")+"|[$_‌‍])";return new RegExp("^"+t+r+"*$").test(e)}function y(e){return"string"==typeof e&&(""===e||p(e)||e.split(".").every(p))}function E(e){return""+e}function g(e,t,r){return new Array(t-String(e).length+1).join(r)+e}Object.defineProperty(r,"__esModule",{value:!0}),r.padStart=r.convertToSequenceDOMString=r.convertToDOMString=r.enforceRange=r.isValidKeyPath=r.defineReadonlyProperties=r.isIterable=r.isBinary=r.isFile=r.isRegExp=r.isBlob=r.isDate=r.isObj=r.instanceOf=r.sqlQuote=r.sqlLIKEEscape=r.escapeIndexNameForSQLKeyColumn=r.escapeIndexNameForSQL=r.escapeStoreNameForSQL=r.unescapeDatabaseNameForSQLAndFiles=r.escapeDatabaseNameForSQLAndFiles=r.unescapeSQLiteResponse=r.escapeSQLiteStatement=void 0;var D=n(e("./CFG")),b=n(e("unicode-9.0.0/Binary_Property/Expands_On_NFD/regex"));r.escapeSQLiteStatement=a,r.unescapeSQLiteResponse=i,r.escapeDatabaseNameForSQLAndFiles=function(e){if(D.default.escapeDatabaseName)return D.default.escapeDatabaseName(a(e));if(e="D"+o(e),!1!==D.default.escapeNFDForDatabaseNames&&(e=e.replace(new RegExp(b.default,"g"),function(e){return"^4"+g(e.codePointAt().toString(16),6,"0")})),!1!==D.default.databaseCharacterEscapeList&&(e=e.replace(D.default.databaseCharacterEscapeList?new RegExp(D.default.databaseCharacterEscapeList,"g"):/[\u0000-\u001F\u007F"*/:<>?\\|]/g,function(e){return"^1"+g(e.charCodeAt().toString(16),2,"0")})),!1!==D.default.databaseNameLengthLimit&&e.length>=(D.default.databaseNameLengthLimit||254)-(!1!==D.default.addSQLiteExtension?7:0))throw new Error("Unexpectedly long database name supplied; length limit required for Node compatibility; passed length: "+e.length+"; length limit setting: "+(D.default.databaseNameLengthLimit||254)+".");return e+(!1!==D.default.addSQLiteExtension?".sqlite":"")},r.unescapeDatabaseNameForSQLAndFiles=function(e){return D.default.unescapeDatabaseName?D.default.unescapeDatabaseName(i(e)):l(e.slice(2).replace(/(\^+)1([0-9a-f]{2})/g,(e,t,r)=>t.length%2?String.fromCharCode(parseInt(r,16)):e).replace(/(\^+)4([0-9a-f]{6})/g,(e,t,r)=>t.length%2?String.fromCodePoint(parseInt(r,16)):e)).replace(/(\^+)([A-Z])/g,(e,t,r)=>t.length%2?r:e).replace(/(\^+)0/g,(e,t)=>t.length%2?"\0":e).replace(/\^\^/g,"^")},r.escapeStoreNameForSQL=function(e){return s("S"+o(e))},r.escapeIndexNameForSQL=function(e){return s("I"+o(e))},r.escapeIndexNameForSQLKeyColumn=function(e){return"I"+o(e)},r.sqlLIKEEscape=function(e){return c(e).replace(/\^/g,"^^")},r.sqlQuote=s,r.instanceOf=function(e,t){return t[Symbol.hasInstance](e)},r.isObj=f,r.isDate=function(e){return f(e)&&"function"==typeof e.getDate},r.isBlob=function(e){return f(e)&&"number"==typeof e.size&&"function"==typeof e.slice&&!("lastModified"in e)},r.isRegExp=function(e){return f(e)&&"string"==typeof e.flags&&"function"==typeof e.exec},r.isFile=function(e){return f(e)&&"string"==typeof e.name&&"function"==typeof e.slice&&"lastModified"in e},r.isBinary=function(e){return f(e)&&"number"==typeof e.byteLength&&("function"==typeof e.slice||"function"==typeof e.getFloat64)},r.isIterable=d,r.defineReadonlyProperties=function(e,t){(t="string"==typeof t?[t]:t).forEach(function(t){Object.defineProperty(e,"__"+t,{enumerable:!1,configurable:!1,writable:!0}),Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return this["__"+t]}})})},r.isValidKeyPath=function(e){return y(e)||Array.isArray(e)&&e.length&&Array.apply(null,e).every(function(e){return y(e)})},r.enforceRange=function(e,t){e=Math.floor(Number(e));let r,n;switch(t){case"unsigned long long":r=9007199254740991,n=0;break;case"unsigned long":r=4294967295,n=0;break;default:throw new Error("Unrecognized type supplied to enforceRange")}if(isNaN(e)||!isFinite(e)||e>r||e<n)throw new TypeError("Invalid range: "+e);return e},r.convertToDOMString=function(e,t){return null===e&&t?"":E(e)},r.convertToSequenceDOMString=function(e){return d(e)?[...e].map(E):E(e)},r.padStart=g},{"./CFG":2,"unicode-9.0.0/Binary_Property/Expands_On_NFD/regex":1}]},{},[4])(4)});
//# sourceMappingURL=indexeddbshim-Key.min.js.map