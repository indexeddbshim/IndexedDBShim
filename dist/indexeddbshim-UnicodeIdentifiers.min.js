/*! indexeddbshim - v3.0.1.7 - 2017-05-10 */

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(){"use strict";for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=new Uint8Array(256),d=0;d<a.length;d++)b[a.charCodeAt(d)]=d;c.encode=function(b,c,d){var e,f=new Uint8Array(b,c||0,void 0!==d?d:b.byteLength),g=f.length,h="";for(e=0;e<g;e+=3)h+=a[f[e]>>2],h+=a[(3&f[e])<<4|f[e+1]>>4],h+=a[(15&f[e+1])<<2|f[e+2]>>6],h+=a[63&f[e+2]];return g%3==2?h=h.substring(0,h.length-1)+"=":g%3==1&&(h=h.substring(0,h.length-2)+"=="),h},c.decode=function(a){var c,d,e,f,g,h=.75*a.length,i=a.length,j=0;"="===a[a.length-1]&&(h--,"="===a[a.length-2]&&h--);var k=new ArrayBuffer(h),l=new Uint8Array(k);for(c=0;c<i;c+=4)d=b[a.charCodeAt(c)],e=b[a.charCodeAt(c+1)],f=b[a.charCodeAt(c+2)],g=b[a.charCodeAt(c+3)],l[j++]=d<<2|e>>4,l[j++]=(15&e)<<4|f>>2,l[j++]=(3&f)<<6|63&g;return k}}()},{}],2:[function(a,b,c){},{}],3:[function(a,b,c){!function(){"use strict";function a(a){return"detail"in a?new k(a.type,{bubbles:a.bubbles,cancelable:a.cancelable,detail:a.detail},a):new j(a.type,{bubbles:a.bubbles,cancelable:a.cancelable},a)}function d(a,b,c){var d=a[b];void 0===d&&(a[b]=d=[]),c="boolean"==typeof c?{capture:c}:c||{};var e=JSON.stringify(c);return{listenersByTypeOptions:d.filter(function(a){return e===JSON.stringify(a.options)}),options:c,listenersByType:d}}function e(){throw new TypeError("Illegal constructor")}var f,g={NONE:0,CAPTURING_PHASE:1,AT_TARGET:2,BUBBLING_PHASE:3};f="undefined"==typeof DOMException?function(a,b){var c=new Error(a);return c.name=b,c}:DOMException;var h=new WeakMap,i=new WeakMap,j=function(a){this[Symbol.toStringTag]="Event",this.toString=function(){return"[object Event]"};var b=arguments[1],c=arguments[2];if(!arguments.length)throw new TypeError("Failed to construct 'Event': 1 argument required, but only 0 present.");b=b||{},c=c||{};var d={};"composed"in b&&(d.composed=b.composed),h.set(this,c),i.set(this,d),this.initEvent(a,b.bubbles,b.cancelable),Object.defineProperties(this,["target","currentTarget","eventPhase","defaultPrevented"].reduce(function(a,b){return a[b]={get:function(){return void 0!==d[b]?d[b]:b in c?c[b]:"eventPhase"===b?0:"defaultPrevented"!==b&&null}},a},{}));var e=["type","bubbles","cancelable","isTrusted","timeStamp","initEvent","composedPath","composed"];"[object CustomEvent]"===this.toString()&&e.push("detail","initCustomEvent"),Object.defineProperties(this,e.reduce(function(a,b){return a[b]={get:function(){return b in d?d[b]:b in c?c[b]:!(["bubbles","cancelable","composed"].indexOf(b)>-1)&&void 0}},a},{}))};j.prototype.preventDefault=function(){if(!(this instanceof j))throw new TypeError("Illegal invocation");var a=h.get(this),b=i.get(this);this.cancelable&&!b._passive&&(b.defaultPrevented=!0,"function"==typeof a.preventDefault&&a.preventDefault())},j.prototype.stopImmediatePropagation=function(){i.get(this)._stopImmediatePropagation=!0},j.prototype.stopPropagation=function(){i.get(this)._stopPropagation=!0},j.prototype.initEvent=function(a,b,c){var d=i.get(this);d._dispatched||(d.type=a,void 0!==b&&(d.bubbles=b),void 0!==c&&(d.cancelable=c))},["type","target","currentTarget"].forEach(function(a){Object.defineProperty(j.prototype,a,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}})}),["eventPhase","defaultPrevented","bubbles","cancelable","timeStamp"].forEach(function(a){Object.defineProperty(j.prototype,a,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}})}),["NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE"].forEach(function(a,b){Object.defineProperty(j,a,{enumerable:!0,writable:!1,value:b}),Object.defineProperty(j.prototype,a,{writable:!1,value:b})}),j[Symbol.toStringTag]="Function",j.prototype[Symbol.toStringTag]="EventPrototype",Object.defineProperty(j,"prototype",{writable:!1});var k=function(a){var b=arguments[1],c=arguments[2];j.call(this,a,b,c),this[Symbol.toStringTag]="CustomEvent",this.toString=function(){return"[object CustomEvent]"},b=b||{},this.initCustomEvent(a,b.bubbles,b.cancelable,"detail"in b?b.detail:null)};Object.defineProperty(k.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:k}),k.prototype.initCustomEvent=function(a,b,c,d){if(!(this instanceof k))throw new TypeError("Illegal invocation");var e=i.get(this);k.call(this,a,{bubbles:b,cancelable:c,detail:d},arguments[4]),e._dispatched||(void 0!==d&&(e.detail=d),Object.defineProperty(this,"detail",{get:function(){return e.detail}}))},k[Symbol.toStringTag]="Function",k.prototype[Symbol.toStringTag]="CustomEventPrototype",Object.setPrototypeOf(k,j),Object.defineProperty(k.prototype,"detail",{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}}),Object.setPrototypeOf(k.prototype,j.prototype),Object.defineProperty(k,"prototype",{writable:!1});var l={addListener:function(a,b,c,e){var f=d(a,c,e),g=f.listenersByTypeOptions;e=f.options;var h=f.listenersByType;g.some(function(a){return a.listener===b})||h.push({listener:b,options:e})},removeListener:function(a,b,c,e){var f=d(a,c,e),g=f.listenersByType,h=JSON.stringify(f.options);g.some(function(d,e){if(d.listener===b&&h===JSON.stringify(d.options))return g.splice(e,1),g.length||delete a[c],!0})},hasListener:function(a,b,c,e){return d(a,c,e).listenersByTypeOptions.some(function(a){return a.listener===b})}};Object.assign(e.prototype,["Early","","Late","Default"].reduce(function(a,b){return["add","remove","has"].forEach(function(c){a[c+b+"EventListener"]=function(a,d){var e=arguments[2];if(arguments.length<2)throw new TypeError("2 or more arguments required");if("string"!=typeof a)throw new f("UNSPECIFIED_EVENT_TYPE_ERR","UNSPECIFIED_EVENT_TYPE_ERR");d.handleEvent&&(d=d.handleEvent.bind(d));var g="_"+b.toLowerCase()+(""===b?"l":"L")+"isteners";return this[g]||Object.defineProperty(this,g,{value:{}}),l[c+"Listener"](this[g],d,a,e)}}),a},{})),Object.assign(e.prototype,{__setOptions:function(a){a=a||{},this._defaultSync=a.defaultSync,this._extraProperties=a.extraProperties||[],a.legacyOutputDidListenersThrowFlag&&(this._legacyOutputDidListenersThrowCheck=!0,this._extraProperties.push("__legacyOutputDidListenersThrowError"))},dispatchEvent:function(a){return this._dispatchEvent(a,!0)},_dispatchEvent:function(b,c){function d(){k.eventPhase=g.NONE,k.currentTarget=null,delete k._children}function e(){k._stopImmediatePropagation=void 0,k._stopPropagation=void 0,l.defaultPrevented&&k.cancelable||(k.eventPhase=g.AT_TARGET,l.target.invokeCurrentListeners(l.target._defaultListeners,l,m)),d()}function h(){return k._stopImmediatePropagation=void 0,k._stopPropagation=void 0,j._defaultSync?e():setTimeout(e,0),k.eventPhase=g.AT_TARGET,k._stopPropagation||(k._stopImmediatePropagation=void 0,k._stopPropagation=void 0,l.target.invokeCurrentListeners(l.target._lateListeners,l,m)),d(),!l.defaultPrevented}var j=this;["early","","late","default"].forEach(function(a){var b="_"+a+(""===a?"l":"L")+"isteners";this[b]||Object.defineProperty(this,b,{value:{}})},this);var k=i.get(b);if(k&&c&&k._dispatched)throw new f("The object is in an invalid state.","InvalidStateError");var l;k?l=b:(l=a(b),k=i.get(l),k._dispatched=!0,this._extraProperties.forEach(function(a){a in b&&(l[a]=b[a])}));var m=l.type;switch(c&&(k.target=this),l.eventPhase){default:case g.NONE:if(k.eventPhase=g.AT_TARGET,this.invokeCurrentListeners(this._earlyListeners,l,m),!this.__getParent)return k.eventPhase=g.AT_TARGET,this._dispatchEvent(l,!1);for(var n=this,o=this;n.__getParent&&null!==(n=n.__getParent());)k._children||(k._children=[]),k._children.push(o),o=n;return o._defaultSync=j._defaultSync,k.eventPhase=g.CAPTURING_PHASE,o._dispatchEvent(l,!1);case g.CAPTURING_PHASE:if(k._stopPropagation)return h();this.invokeCurrentListeners(this._listeners,l,m);var p=k._children&&k._children.length&&k._children.pop();return p&&p!==l.target||(k.eventPhase=g.AT_TARGET),p&&(p._defaultSync=j._defaultSync),(p||this)._dispatchEvent(l,!1);case g.AT_TARGET:return k._stopPropagation?h():(this.invokeCurrentListeners(this._listeners,l,m,!0),k.bubbles?(k.eventPhase=g.BUBBLING_PHASE,this._dispatchEvent(l,!1)):h());case g.BUBBLING_PHASE:if(k._stopPropagation)return h();var q=this.__getParent&&this.__getParent();return q?(q.invokeCurrentListeners(q._listeners,l,m,!0),q._defaultSync=j._defaultSync,q._dispatchEvent(l,!1)):h()}},invokeCurrentListeners:function(a,b,c,e){var f=i.get(b),h=this;f.currentTarget=this;var j=d(a,c,{}),k=j.listenersByType.concat(),l=k.length?1:0;return k.some(function(a,d){var i=e?h["on"+c]:null;if(f._stopImmediatePropagation)return!0;d===l&&"function"==typeof i&&this.tryCatch(b,function(){!1===i.call(b.currentTarget,b)&&b.preventDefault()});var j=a.options,k=j.once,m=j.passive,n=j.capture;if(f._passive=m,n&&b.target!==b.currentTarget&&b.eventPhase===g.CAPTURING_PHASE||b.eventPhase===g.AT_TARGET||!n&&b.target!==b.currentTarget&&b.eventPhase===g.BUBBLING_PHASE){var o=a.listener;this.tryCatch(b,function(){o.call(b.currentTarget,b)}),k&&this.removeEventListener(c,o,j)}},this),this.tryCatch(b,function(){var a=e?h["on"+c]:null;if("function"==typeof a&&k.length<2){!1===a.call(b.currentTarget,b)&&b.preventDefault()}}),!b.defaultPrevented},tryCatch:function(a,b){try{b()}catch(b){this.triggerErrorEvent(b,a)}},triggerErrorEvent:function(a,b){var c=a;"string"==typeof a&&(c=new Error("Uncaught exception: "+a));var d,e=!1;"undefined"==typeof window||"undefined"==typeof ErrorEvent||window&&"object"==typeof window&&!window.dispatchEvent?(e=!0,d=function(){setTimeout(function(){throw c})}):d=function(){var b=new ErrorEvent("error",{error:a,message:c.message||"",filename:c.fileName||"",lineno:c.lineNumber||0,colno:c.columnNumber||0});window.dispatchEvent(b)},e&&this._legacyOutputDidListenersThrowCheck||d(),this._legacyOutputDidListenersThrowCheck&&(b.__legacyOutputDidListenersThrowError=c)}}),e.prototype[Symbol.toStringTag]="EventTargetPrototype",Object.defineProperty(e,"prototype",{writable:!1});var m=e,n={createInstance:function(a){function b(){this.__setOptions(a)}return b.prototype=m.prototype,new b}};e.ShimEvent=j,e.ShimCustomEvent=k,e.ShimDOMException=f,e.ShimEventTarget=e,e.EventTargetFactory=n;var o=void 0!==b&&b.exports?c:window;o.ShimEvent=j,o.ShimCustomEvent=k,o.ShimDOMException=f,o.ShimEventTarget=e,o.EventTargetFactory=n}()},{}],4:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;i<g;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return b<0&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:5}],5:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],6:[function(a,b,c){function d(a){return a&&"function"==typeof a.then}function e(a,b){a.then(null,b)}function f(a){function b(a,b){j.v=a,j.s=b,j.c[b].forEach(function(b){b(a)}),j.c[b].length&&(j.c=null)}function c(a){j.c&&(d(a)?e(a.then(c),f):b(a,h))}function f(a){j.c&&(d(a)?e(a.then(f),f):b(a,i))}var j=this;j.v=0,j.s=g,j.c=[[],[]];try{a(c,f)}catch(a){f(a)}}var g=2,h=0,i=1,j=f.prototype;j.then=function(a,b){var c=this;return new f(function(d,e){function f(){try{d(a?a(c.v):c.v)}catch(a){g(a)}}var g="function"==typeof b?b:e;c.s===h?f():c.s===i?g(c.v):(c.c[h].push(f),c.c[i].push(g))})},j.catch=function(a){var b=this;return new f(function(c,d){function e(){try{c(a(b.v))}catch(a){d(a)}}b.s===i?e():b.s===h?c(b.v):(b.c[i].push(e),b.c[h].push(c))})},f.all=function(a){return new f(function(b,c,f){f=a.length;var g=[];if(!f)return void b(g);a.forEach(function(h,i){d(h)?e(h.then(function(a){g[i]=a,--f||b(g)}),c):(g[i]=h,--f||b(a))})})},f.race=function(a){var b=!1;return new f(function(c,f){a.some(function(a,g){if(!d(a))return c(a),b=!0,!0;e(a.then(function(a){b||(c(a),b=!0)}),f)})})},f.resolve=function(a){return new f(function(b,c){b(a)})},f.reject=function(a){return new f(function(b,c){c(a)})},b.exports=f},{}],7:[function(a,b,c){b.exports=[{sparseArrays:{testPlainObjects:!0,test:function(a){return Array.isArray(a)},replace:function(a,b){return b.iterateUnsetNumeric=!0,a}}},{sparseUndefined:{test:function(a,b){return void 0===a&&!1===b.ownKeys},replace:function(a){return null},revive:function(a){}}}]},{}],8:[function(a,b,c){b.exports=a("./structured-cloning").concat({checkDataCloneException:[function(a){var b={}.toString.call(a).slice(8,-1);if(["symbol","function"].includes(typeof a)||["Arguments","Module","Error","Promise","WeakMap","WeakSet"].includes(b)||a===Object.prototype||("Blob"===b||"File"===b)&&a.isClosed||a&&"object"==typeof a&&"number"==typeof a.nodeType&&"function"==typeof a.insertBefore)throw new DOMException("The object cannot be cloned.","DataCloneError");return!1}]})},{"./structured-cloning":9}],9:[function(a,b,c){b.exports=[a("../types/user-object"),a("../presets/undefined"),a("../types/primitive-objects"),a("../types/special-numbers"),a("../types/date"),a("../types/regexp"),"function"==typeof Map&&a("../types/map"),"function"==typeof Set&&a("../types/set"),"function"==typeof ArrayBuffer&&a("../types/arraybuffer"),"function"==typeof Uint8Array&&a("../types/typed-arrays"),"function"==typeof DataView&&a("../types/dataview"),"undefined"!=typeof Intl&&a("../types/intl-types"),a("../types/imagedata"),a("../types/imagebitmap"),a("../types/file"),a("../types/filelist"),a("../types/blob")]},{"../presets/undefined":10,"../types/arraybuffer":11,"../types/blob":12,"../types/dataview":13,"../types/date":14,"../types/file":15,"../types/filelist":16,"../types/imagebitmap":17,"../types/imagedata":18,"../types/intl-types":19,"../types/map":20,"../types/primitive-objects":21,"../types/regexp":22,"../types/set":23,"../types/special-numbers":24,"../types/typed-arrays":25,"../types/user-object":27}],10:[function(a,b,c){b.exports=[a("../presets/sparse-undefined"),a("../types/undefined")]},{"../presets/sparse-undefined":7,"../types/undefined":26}],11:[function(a,b,c){var d=a("typeson"),e=a("base64-arraybuffer");c.ArrayBuffer=[function(a){return"ArrayBuffer"===d.toStringTag(a)},function(a){return e.encode(a)},function(a){return e.decode(a)}]},{"base64-arraybuffer":1,typeson:29}],12:[function(a,b,c){var d=a("typeson");c.Blob={test:function(a){return"Blob"===d.toStringTag(a)},replace:function(a){var b=new XMLHttpRequest;if(b.open("GET",URL.createObjectURL(a),!1),200!==b.status&&0!==b.status)throw new Error("Bad Blob access: "+b.status);return b.send(),{type:a.type,stringContents:b.responseText}},revive:function(a){return new Blob([a.stringContents],{type:a.type})},replaceAsync:function(a){return new d.Promise(function(b,c){if(a.isClosed)return void c(new Error("The Blob is closed"));var d=new FileReader;d.addEventListener("load",function(){b({type:a.type,stringContents:d.result})}),d.addEventListener("error",function(){c(d.error)}),d.readAsText(a)})}}},{typeson:29}],13:[function(a,b,c){var d=a("typeson"),e=a("base64-arraybuffer");c.DataView=[function(a){return"DataView"===d.toStringTag(a)},function(a){return{buffer:e.encode(a.buffer),byteOffset:a.byteOffset,byteLength:a.byteLength}},function(a){return new DataView(e.decode(a.buffer),a.byteOffset,a.byteLength)}]},{"base64-arraybuffer":1,typeson:29}],14:[function(a,b,c){var d=a("typeson");c.Date=[function(a){return"Date"===d.toStringTag(a)},function(a){return a.getTime()},function(a){return new Date(a)}]},{typeson:29}],15:[function(a,b,c){var d=a("typeson");c.File={test:function(a){return"File"===d.toStringTag(a)},replace:function(a){var b=new XMLHttpRequest;if(b.open("GET",URL.createObjectURL(a),!1),200!==b.status&&0!==b.status)throw new Error("Bad Blob access: "+b.status);return b.send(),{type:a.type,stringContents:b.responseText,name:a.name,lastModified:a.lastModified}},revive:function(a){return new File([a.stringContents],a.name,{type:a.type,lastModified:a.lastModified})},replaceAsync:function(a){return new d.Promise(function(b,c){if(a.isClosed)return void c(new Error("The File is closed"));var d=new FileReader;d.addEventListener("load",function(){b({type:a.type,stringContents:d.result,name:a.name,lastModified:a.lastModified})}),d.addEventListener("error",function(){c(d.error)}),d.readAsText(a)})}}},{typeson:29}],16:[function(a,b,c){var d=a("typeson");c.File=a("./file").File,c.FileList={test:function(a){return"FileList"===d.toStringTag(a)},replace:function(a){for(var b=[],c=0;c<a.length;c++)b[c]=a.item(c);return b},revive:function(a){function b(){this._files=arguments[0],this.length=this._files.length}return b.prototype.item=function(a){return this._files[a]},b.prototype[Symbol.toStringTag]="FileList",new b(a)}}},{"./file":15,typeson:29}],17:[function(a,b,c){var d=a("typeson");c.ImageBitmap={test:function(a){return"ImageBitmap"===d.toStringTag(a)},replace:function(a){var b=document.createElement("canvas");return b.getContext("2d").drawImage(a,0,0),b.toDataURL()},revive:function(a){var b=document.createElement("canvas"),c=b.getContext("2d"),d=document.createElement("img");return d.onload=function(){c.drawImage(d,0,0)},d.src=a,b},reviveAsync:function(a){var b=document.createElement("canvas"),c=b.getContext("2d"),d=document.createElement("img");return d.onload=function(){c.drawImage(d,0,0)},d.src=a,createImageBitmap(b)}}},{typeson:29}],18:[function(a,b,c){var d=a("typeson");c.ImageData=[function(a){return"ImageData"===d.toStringTag(a)},function(a){return{array:Array.from(a.data),width:a.width,height:a.height}},function(a){return new ImageData(new Uint8ClampedArray(a.array),a.width,a.height)}]},{typeson:29}],19:[function(a,b,c){var d=a("typeson");c["Intl.Collator"]=[function(a){return d.hasConstructorOf(a,Intl.Collator)},function(a){return a.resolvedOptions()},function(a){return new Intl.Collator(a.locale,a)}],c["Intl.DateTimeFormat"]=[function(a){return d.hasConstructorOf(a,Intl.DateTimeFormat)},function(a){return a.resolvedOptions()},function(a){return new Intl.DateTimeFormat(a.locale,a)}],c["Intl.NumberFormat"]=[function(a){return d.hasConstructorOf(a,Intl.NumberFormat)},function(a){return a.resolvedOptions()},function(a){return new Intl.NumberFormat(a.locale,a)}]},{typeson:29}],20:[function(a,b,c){var d=a("typeson"),e=a("../utils/array-from-iterator");c.Map=[function(a){return"Map"===d.toStringTag(a)},function(a){return e(a.entries())},function(a){return new Map(a)}]},{"../utils/array-from-iterator":28,typeson:29}],21:[function(a,b,c){var d=a("typeson");b.exports={StringObject:[function(a){return"String"===d.toStringTag(a)&&"object"==typeof a},function(a){return String(a)},function(a){return new String(a)}],BooleanObject:[function(a){return"Boolean"===d.toStringTag(a)&&"object"==typeof a},function(a){return Boolean(a)},function(a){return new Boolean(a)}],NumberObject:[function(a){return"Number"===d.toStringTag(a)&&"object"==typeof a},function(a){return Number(a)},function(a){return new Number(a)}]}},{typeson:29}],22:[function(a,b,c){var d=a("typeson");c.RegExp=[function(a){return"RegExp"===d.toStringTag(a)},function(a){return{source:a.source,flags:(a.global?"g":"")+(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.sticky?"y":"")+(a.unicode?"u":"")}},function(a){return new RegExp(a.source,a.flags)}]},{typeson:29}],23:[function(a,b,c){var d=a("typeson"),e=a("../utils/array-from-iterator");c.Set=[function(a){return"Set"===d.toStringTag(a)},function(a){return e(a.values())},function(a){return new Set(a)}]},{"../utils/array-from-iterator":28,typeson:29}],24:[function(a,b,c){c.SpecialNumber=[function(a){return"number"==typeof a&&(isNaN(a)||a===1/0||a===-1/0)},function(a){return isNaN(a)?"NaN":a>0?"Infinity":"-Infinity"},function(a){return{NaN:NaN,Infinity:1/0,"-Infinity":-1/0}[a]}]},{}],25:[function(a,b,c){(function(b){var d=a("typeson"),e=a("base64-arraybuffer"),f="undefined"==typeof self?b:self;["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(a){var b=f[a];b&&(c[a]=[function(b){return d.toStringTag(b)===a},function(a){return e.encode(a.buffer,a.byteOffset,a.byteLength)},function(a){return new b(e.decode(a))}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-arraybuffer":1,typeson:29}],26:[function(a,b,c){var d=a("typeson");b.exports={undefined:[function(a,b){return void 0===a&&(b.ownKeys||!("ownKeys"in b))},function(a){return null},function(a){return new d.Undefined}]}},{typeson:29}],27:[function(a,b,c){var d=a("typeson");c.userObjects=[function(a,b){return d.isUserObject(a)},function(a){return Object.assign({},a)},function(a){return a}]},{typeson:29}],28:[function(a,b,c){b.exports=Array.from||function(a){for(var b=[],c=a.next();!c.done;c=a.next())b.push(c.value);return b}},{}],29:[function(a,b,c){function d(a,b){return j.isObject(a)&&"function"==typeof a.then&&(!b||"function"==typeof a.catch)}function e(a){return q.call(a).slice(8,-1)}function f(a,b){if(!a||"object"!=typeof a)return!1;var c=r(a);if(!c)return!1;var d=s.call(c,"constructor")&&c.constructor;return"function"!=typeof d?null===b:"function"==typeof d&&null!==b&&t.call(d)===t.call(b)}function g(a){return!(!a||"Object"!==e(a))&&(!r(a)||f(a,Object))}function h(a){if(!a||"Object"!==e(a))return!1;var b=r(a);return!b||(f(a,Object)||h(b))}function i(a){return a&&"object"==typeof a}function j(a){var b=[],c=[],e={},h=this.types={},j=this.stringify=function(b,c,d,e){e=Object.assign({},a,e,{stringification:!0});var f=r(b,null,e);return p(f)?JSON.stringify(f[0],c,d):f.then(function(a){return JSON.stringify(a,c,d)})};this.stringifySync=function(a,b,c,d){return j(a,b,c,Object.assign({},{throwOnBadSyncType:!0},d,{sync:!0}))},this.stringifyAsync=function(a,b,c,d){return j(a,b,c,Object.assign({},{throwOnBadSyncType:!0},d,{sync:!1}))};var q=this.parse=function(b,c,d){return d=Object.assign({},a,d,{parse:!0}),s(JSON.parse(b,c),d)};this.parseSync=function(a,b,c){return q(a,b,Object.assign({},{throwOnBadSyncType:!0},c,{sync:!0}))},this.parseAsync=function(a,b,c){return q(a,b,Object.assign({},{throwOnBadSyncType:!0},c,{sync:!1}))};var r=this.encapsulate=function(d,h,j){function k(a){return o(s).length?a&&g(a)&&!a.hasOwnProperty("$types")?a.$types=s:a={$:a,$types:{$:s}}:i(a)&&a.hasOwnProperty("$types")&&(a={$:a,$types:!0}),a}function l(a,b){return Promise.all(b.map(function(a){return a[1].p})).then(function(c){return Promise.all(c.map(function(c){var d=[],e=b.splice(0,1)[0],g=e[0],h=e[2],i=e[3],j=e[4],k=e[5],o=m(g,c,h,i,d),p=f(o,n);return g&&p?o.p.then(function(b){return j[k]=b,l(a,d)}):(g?j[k]=o:a=p?o.p:o,l(a,d))}))}).then(function(){return a})}function m(a,c,d,e,h){var i=typeof c;if(i in{string:1,boolean:1,number:1,undefined:1})return void 0===c||"number"===i&&(isNaN(c)||c===-1/0||c===1/0)?q(a,c,e,h):c;if(null===c)return c;if(d&&!e.iterateIn&&!e.iterateUnsetNumeric){var j=t.indexOf(c);if(!(j<0))return s[a]="#","#"+u[j];!0===d&&(t.push(c),u.push(a))}var k=g(c),l=p(c),r=(k||l)&&(!b.length||e.replaced)||e.iterateIn?c:q(a,c,e,h,k||l);if(r!==c)return r;var v;if(l||"array"===e.iterateIn)v=new Array(c.length);else{if(!k&&"object"!==e.iterateIn)return""===a&&f(c,n)?(h.push([a,c,d,e]),c):c;v={}}if(e.iterateIn)for(var w in c){var x={ownKeys:c.hasOwnProperty(w)},y=a+(a?".":"")+w,z=m(y,c[w],!!d,x,h);f(z,n)?h.push([y,z,!!d,x,v,w]):void 0!==z&&(v[w]=z)}else o(c).forEach(function(b){var e=a+(a?".":"")+b,g=m(e,c[b],!!d,{ownKeys:!0},h);f(g,n)?h.push([e,g,!!d,{ownKeys:!0},v,b]):void 0!==g&&(v[b]=g)});if(e.iterateUnsetNumeric)for(var A=0,B=c.length;A<B;A++)if(!(A in c)){var y=a+(a?".":"")+A,z=m(y,void 0,!!d,{ownKeys:!1},h);f(z,n)?h.push([y,z,!!d,{ownKeys:!1},v,A]):void 0!==z&&(v[A]=z)}return v}function q(a,d,f,g,h){for(var i=h?b:c,j=i.length;j--;)if(i[j].test(d,f)){var k=i[j].type;if(e[k]){var l=s[a];s[a]=l?[k].concat(l):k}if(f=Object.assign(f,{replaced:!0}),(r||!i[j].replaceAsync)&&!i[j].replace)return m(a,d,w&&"readonly",f,g);var n=r||!i[j].replaceAsync?"replace":"replaceAsync";return m(a,i[j][n](d,f),w&&"readonly",f,g)}return d}j=Object.assign({sync:!0},a,j);var r=j.sync,s={},t=[],u=[],v=[],w=!(j&&"cyclic"in j)||j.cyclic,x=m("",d,w,h||{},v);return v.length?r&&j.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(l(x,v)).then(k):!r&&j.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():j.stringification&&r?[k(x)]:r?k(x):Promise.resolve(k(x))};this.encapsulateSync=function(a,b,c){return r(a,b,Object.assign({},{throwOnBadSyncType:!0},c,{sync:!0}))},this.encapsulateAsync=function(a,b,c){return r(a,b,Object.assign({},{throwOnBadSyncType:!0},c,{sync:!1}))};var s=this.revive=function(b,c){function h(a,b,c,d,i,q){if(!k||"$types"!==a){var r=j[a];if(p(b)||g(b)){var i=p(b)?new Array(b.length):{};for(o(b).forEach(function(e){var g=h(a+(a?".":"")+e,b[e],c||i,d,i,e);f(g,m)?i[e]=void 0:void 0!==g&&(i[e]=g)}),b=i;n.length;){var s=n[0],c=s[0],t=s[1],i=s[2],q=s[3],u=l(c,t);if(f(u,m))i[q]=void 0;else{if(void 0===u)break;i[q]=u}n.splice(0,1)}}if(!r)return b;if("#"===r){var v=l(c,b.substr(1));return void 0===v&&n.push([c,b.substr(1),i,q]),v}var w=d.sync;return[].concat(r).reduce(function(a,b){var c=e[b];if(!c)throw new Error("Unregistered type: "+b);return c[w&&c.revive?"revive":!w&&c.reviveAsync?"reviveAsync":"revive"](a)},b)}}c=Object.assign({sync:!0},a,c);var i=c.sync,j=b&&b.$types,k=!0;if(!j)return b;if(!0===j)return b.$;j.$&&g(j.$)&&(b=b.$,j=j.$,k=!1);var n=[],q=h("",b,null,c);return q=f(q,m)?void 0:q,d(q)?i&&c.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():q:!i&&c.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():i?q:Promise.resolve(q)};this.reviveSync=function(a,b){return s(a,Object.assign({},{throwOnBadSyncType:!0},b,{sync:!0}))},this.reviveAsync=function(a,b){return s(a,Object.assign({},{throwOnBadSyncType:!0},b,{sync:!1}))},this.register=function(a,d){return d=d||{},[].concat(a).forEach(function a(f){if(p(f))return f.map(a);f&&o(f).forEach(function(a){if("#"===a)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");var g=f[a],i=g.testPlainObjects?b:c,j=i.filter(function(b){return b.type===a});if(j.length&&(i.splice(i.indexOf(j[0]),1),delete e[a],delete h[a]),g){if("function"==typeof g){var l=g;g={test:function(a){return a.constructor===l},replace:function(a){return k({},a)},revive:function(a){return k(Object.create(l.prototype),a)}}}else p(g)&&(g={test:g[0],replace:g[1],revive:g[2]});var m={type:a,test:g.test.bind(g)};g.replace&&(m.replace=g.replace.bind(g)),g.replaceAsync&&(m.replaceAsync=g.replaceAsync.bind(g));var n="number"==typeof d.fallback?d.fallback:d.fallback?0:1/0;if(g.testPlainObjects?b.splice(n,0,m):c.splice(n,0,m),g.revive||g.reviveAsync){var o={};g.revive&&(o.revive=g.revive.bind(g)),g.reviveAsync&&(o.reviveAsync=g.reviveAsync.bind(g)),e[a]=o}h[a]=g}})}),this}}function k(a,b){return o(b).map(function(c){a[c]=b[c]}),a}function l(a,b){if(""===b)return a;var c=b.indexOf(".");if(-1!==c){var d=a[b.substr(0,c)];return void 0===d?void 0:l(d,b.substr(c+1))}return a[b]}function m(){}function n(a){this.p=new Promise(a)}var o=Object.keys,p=Array.isArray,q={}.toString,r=Object.getPrototypeOf,s={}.hasOwnProperty,t=s.toString;n.prototype.then=function(a,b){var c=this;return new n(function(d,e){c.p.then(function(b){d(a?a(b):b)},function(a){c.p.catch(function(a){return b?b(a):Promise.reject(a)}).then(d,e)})})},n.prototype.catch=function(a){return this.then(null,a)},n.resolve=function(a){return new n(function(b){b(a)})},n.reject=function(a){return new n(function(b,c){c(a)})},["all","race"].map(function(a){n[a]=function(b){return new n(function(c,d){Promise[a](b.map(function(a){return a.p})).then(c,d)})}}),j.Undefined=m,j.Promise=n,j.isThenable=d,j.toStringTag=e,j.hasConstructorOf=f,j.isObject=i,j.isPlainObject=g,j.isUserObject=h,b.exports=j},{}],30:[function(a,b,c){
b.exports=/[\xC0-\xC5\xC7-\xCF\xD1-\xD6\xD9-\xDD\xE0-\xE5\xE7-\xEF\xF1-\xF6\xF9-\xFD\xFF-\u010F\u0112-\u0125\u0128-\u0130\u0134-\u0137\u0139-\u013E\u0143-\u0148\u014C-\u0151\u0154-\u0165\u0168-\u017E\u01A0\u01A1\u01AF\u01B0\u01CD-\u01DC\u01DE-\u01E3\u01E6-\u01F0\u01F4\u01F5\u01F8-\u021B\u021E\u021F\u0226-\u0233\u0344\u0385\u0386\u0388-\u038A\u038C\u038E-\u0390\u03AA-\u03B0\u03CA-\u03CE\u03D3\u03D4\u0400\u0401\u0403\u0407\u040C-\u040E\u0419\u0439\u0450\u0451\u0453\u0457\u045C-\u045E\u0476\u0477\u04C1\u04C2\u04D0-\u04D3\u04D6\u04D7\u04DA-\u04DF\u04E2-\u04E7\u04EA-\u04F5\u04F8\u04F9\u0622-\u0626\u06C0\u06C2\u06D3\u0929\u0931\u0934\u0958-\u095F\u09CB\u09CC\u09DC\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B48\u0B4B\u0B4C\u0B5C\u0B5D\u0B94\u0BCA-\u0BCC\u0C48\u0CC0\u0CC7\u0CC8\u0CCA\u0CCB\u0D4A-\u0D4C\u0DDA\u0DDC-\u0DDE\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u0F73\u0F75\u0F76\u0F78\u0F81\u0F93\u0F9D\u0FA2\u0FA7\u0FAC\u0FB9\u1026\u1B06\u1B08\u1B0A\u1B0C\u1B0E\u1B12\u1B3B\u1B3D\u1B40\u1B41\u1B43\u1E00-\u1E99\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FC1-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEE\u1FF2-\u1FF4\u1FF6-\u1FFC\u212B\u219A\u219B\u21AE\u21CD-\u21CF\u2204\u2209\u220C\u2224\u2226\u2241\u2244\u2247\u2249\u2260\u2262\u226D-\u2271\u2274\u2275\u2278\u2279\u2280\u2281\u2284\u2285\u2288\u2289\u22AC-\u22AF\u22E0-\u22E3\u22EA-\u22ED\u2ADC\u304C\u304E\u3050\u3052\u3054\u3056\u3058\u305A\u305C\u305E\u3060\u3062\u3065\u3067\u3069\u3070\u3071\u3073\u3074\u3076\u3077\u3079\u307A\u307C\u307D\u3094\u309E\u30AC\u30AE\u30B0\u30B2\u30B4\u30B6\u30B8\u30BA\u30BC\u30BE\u30C0\u30C2\u30C5\u30C7\u30C9\u30D0\u30D1\u30D3\u30D4\u30D6\u30D7\u30D9\u30DA\u30DC\u30DD\u30F4\u30F7-\u30FA\u30FE\uAC00-\uD7A3\uFB1D\uFB1F\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFB4E]|\uD804[\uDC9A\uDC9C\uDCAB\uDD2E\uDD2F\uDF4B\uDF4C]|\uD805[\uDCBB\uDCBC\uDCBE\uDDBA\uDDBB]|\uD834[\uDD5E-\uDD64\uDDBB-\uDDC0]/},{}],31:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={},e={};["DEBUG","cacheDatabaseInstances","autoName","fullIDLSupport","checkOrigin","cursorPreloadPackSize","UnicodeIDStart","UnicodeIDContinue","avoidAutoShim","win","DEFAULT_DB_SIZE","addNonIDBGlobals","replaceNonIDBGlobals","escapeDatabaseName","unescapeDatabaseName","databaseCharacterEscapeList","databaseNameLengthLimit","escapeNFDForDatabaseNames","addSQLiteExtension",["memoryDatabase",function(a){if(!/^(?::memory:|file::memory:(\?[^#]*)?(#.*)?)?$/.test(a))throw new TypeError('`memoryDatabase` must be the empty string, ":memory:", or a "file::memory:[?queryString][#hash] URL".')}],"deleteDatabaseFiles","databaseBasePath","sysDatabaseBasePath","sqlBusyTimeout","sqlTrace","sqlProfile"].forEach(function(a){var b=void 0;Array.isArray(a)&&(b=a[1],a=a[0]),Object.defineProperty(e,a,{get:function(){return d[a]},set:function(c){b&&b(c),d[a]=c}})}),c.default=e,b.exports=c.default},{}],32:[function(a,b,c){"use strict";function d(a,b){return new DOMException.prototype.constructor(b,a||"DOMException")}function e(a,b){return new o(b,a)}function f(a,b,c){if(l.default.DEBUG){c&&c.message&&(c=c.message);var d="function"==typeof console.error?"error":"log";console[d](a+": "+b+". "+(c||"")),console.trace&&console.trace()}}function g(a){return a&&"object"===(void 0===a?"undefined":j(a))&&"string"==typeof a.name}function h(a){var b=void 0;if(a){if(1===a.length)return a[0];for(var c=0;c<a.length;c++){var d=a[c];if(g(d))return d;d&&"string"==typeof d.message&&(b=d)}}return b}function i(a){var b=void 0,c=void 0;switch(a.code){case 4:b="QuotaExceededError",c="The operation failed because there was not enough remaining storage space, or the storage quota was reached and the user declined to give more space to the database.";break;default:b="UnknownError",c="The operation failed for reasons unrelated to the database itself and not covered by any other errors."}c+=" ("+a.message+")--("+a.code+")";var d=r(b,c);return d.sqlError=a,d}Object.defineProperty(c,"__esModule",{value:!0}),c.webSQLErrback=c.createDOMException=c.ShimDOMException=c.findError=c.logError=void 0;var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k=a("./CFG"),l=function(a){return a&&a.__esModule?a:{default:a}}(k),m={IndexSizeError:1,HierarchyRequestError:3,WrongDocumentError:4,InvalidCharacterError:5,NoModificationAllowedError:7,NotFoundError:8,NotSupportedError:9,InUseAttributeError:10,InvalidStateError:11,SyntaxError:12,InvalidModificationError:13,NamespaceError:14,InvalidAccessError:15,TypeMismatchError:17,SecurityError:18,NetworkError:19,AbortError:20,URLMismatchError:21,QuotaExceededError:22,TimeoutError:23,InvalidNodeTypeError:24,DataCloneError:25,EncodingError:0,NotReadableError:0,UnknownError:0,ConstraintError:0,DataError:0,TransactionInactiveError:0,ReadOnlyError:0,VersionError:0,OperationError:0,NotAllowedError:0},n={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},o=function(){function a(a,b){this[Symbol.toStringTag]="DOMException",this._code=b in m?m[b]:n[b]||0,this._name=b||"Error",this._message=void 0===a?"":""+a,Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,writable:!0,value:this._code}),void 0!==b&&Object.defineProperty(this,"name",{configurable:!0,enumerable:!0,writable:!0,value:this._name}),void 0!==a&&Object.defineProperty(this,"message",{configurable:!0,enumerable:!1,writable:!0,value:this._message})}var b=function(){};return b.prototype=Object.create(Error.prototype),["name","message"].forEach(function(c){Object.defineProperty(b.prototype,c,{enumerable:!0,get:function(){if(!(this instanceof a||this instanceof b||this instanceof Error))throw new TypeError("Illegal invocation");return this["_"+c]}})}),Object.defineProperty(b.prototype,"code",{configurable:!0,enumerable:!0,get:function(){throw new TypeError("Illegal invocation")}}),a.prototype=new b,a.prototype[Symbol.toStringTag]="DOMExceptionPrototype",Object.defineProperty(a,"prototype",{writable:!1}),Object.keys(m).forEach(function(b){Object.defineProperty(a.prototype,b,{enumerable:!0,configurable:!1,value:m[b]}),Object.defineProperty(a,b,{enumerable:!0,configurable:!1,value:m[b]})}),Object.keys(n).forEach(function(b){Object.defineProperty(a.prototype,b,{enumerable:!0,configurable:!1,value:n[b]}),Object.defineProperty(a,b,{enumerable:!0,configurable:!1,value:n[b]})}),Object.defineProperty(a.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:a}),a}(),p=void 0,q=!1;try{p=d("test name","test message"),g(p)&&"test name"===p.name&&"test message"===p.message&&(q=!0)}catch(a){}var r=void 0,s=void 0;q?(c.ShimDOMException=s=DOMException,c.createDOMException=r=function(a,b,c){return f(a,b,c),d(a,b)}):(c.ShimDOMException=s=o,c.createDOMException=r=function(a,b,c){return f(a,b,c),e(a,b)}),c.logError=f,c.findError=h,c.ShimDOMException=s,c.createDOMException=r,c.webSQLErrback=i},{"./CFG":31}],33:[function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0});var e,f=!1,g={test:!0};if(Object.defineProperty)try{Object.defineProperty(g,"test",{enumerable:!1}),g.test&&(f=!0)}catch(a){}var h=function(){throw new TypeError("Illegal constructor")};h.prototype=(e={constructor:h,contains:function(a){if(!arguments.length)throw new TypeError("DOMStringList.contains must be supplied a value");return this._items.includes(a)},item:function(a){if(!arguments.length)throw new TypeError("DOMStringList.item must be supplied a value");return a<0||a>=this.length||!Number.isInteger(a)?null:this._items[a]},clone:function(){var a=h.__createInstance();return a._items=this._items.slice(),a._length=this.length,a.addIndexes(),a},addIndexes:function(){for(var a=0;a<this._items.length;a++)this[a]=this._items[a]},sortList:function(){return this._items.sort(),this.addIndexes(),this._items},forEach:function(a,b){this._items.forEach(a,b)},map:function(a,b){return this._items.map(a,b)},indexOf:function(a){return this._items.indexOf(a)},push:function(a){this._items.push(a),this._length++,this.sortList()},splice:function(){var a;(a=this._items).splice.apply(a,arguments),this._length=this._items.length;for(var b in this)b===String(parseInt(b,10))&&delete this[b];this.sortList()}},d(e,Symbol.toStringTag,"DOMStringListPrototype"),d(e,Symbol.iterator,regeneratorRuntime.mark(function a(){var b;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b=0;case 1:if(!(b<this._items.length)){a.next=6;break}return a.next=4,this._items[b++];case 4:a.next=1;break;case 6:case"end":return a.stop()}},a,this)})),e),Object.defineProperty(h,Symbol.hasInstance,{value:function(a){return"DOMStringListPrototype"==={}.toString.call(a)}});var i=h;if(Object.defineProperty(h,"__createInstance",{value:function(){var a=function(){this.toString=function(){return"[object DOMStringList]"},Object.defineProperty(this,"length",{enumerable:!0,get:function(){return this._length}}),this._items=[],this._length=0};return a.prototype=i.prototype,new a}}),f){Object.defineProperty(h,"prototype",{writable:!1});["addIndexes","sortList","forEach","map","indexOf","push","splice","constructor","__createInstance"].forEach(function(a){Object.defineProperty(h.prototype,a,{enumerable:!1})}),Object.defineProperty(h.prototype,"length",{configurable:!0,enumerable:!0,get:function(){throw new TypeError("Illegal invocation")}});["_items","_length"].forEach(function(a){Object.defineProperty(h.prototype,a,{enumerable:!1,writable:!0})})}c.default=h,b.exports=c.default},{}],34:[function(a,b,c){"use strict";function d(a,b,c){var d=new e.ShimEvent(a,c);return d.debug=b,d}Object.defineProperty(c,"__esModule",{value:!0}),c.ShimEventTarget=c.ShimCustomEvent=c.ShimEvent=c.createEvent=void 0;var e=a("eventtarget"),f=a("./util"),g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(f);Object.defineProperty(e.ShimEvent,Symbol.hasInstance,{value:function(a){return g.isObj(a)&&"target"in a&&"boolean"==typeof a.bubbles}}),c.createEvent=d,c.ShimEvent=e.ShimEvent,c.ShimCustomEvent=e.ShimCustomEvent,c.ShimEventTarget=e.ShimEventTarget},{"./util":49,eventtarget:3}],35:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}function f(){throw new TypeError("Illegal constructor")}function g(){throw new TypeError("Illegal constructor")}Object.defineProperty(c,"__esModule",{value:!0}),c.IDBCursorWithValue=c.IDBCursor=void 0;var h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=a("./IDBRequest"),j=a("./IDBObjectStore"),k=e(j),l=a("./DOMException"),m=a("./IDBKeyRange"),n=a("./IDBFactory"),o=a("./util"),p=d(o),q=a("./IDBTransaction"),r=e(q),s=a("./Key"),t=d(s),u=a("./Sca"),v=d(u),w=a("./IDBIndex"),x=e(w),y=a("./CFG"),z=e(y),A=f;f.__super=function(a,b,c,d,e,f,g){this[Symbol.toStringTag]="IDBCursor",p.defineReadonlyProperties(this,["key","primaryKey"]),k.default.__invalidStateIfDeleted(c),this.__indexSource=p.instanceOf(d,x.default),this.__indexSource&&x.default.__invalidStateIfDeleted(d),r.default.__assertActive(c.transaction);var h=(0,m.convertValueToKeyRange)(a);if(void 0!==b&&!["next","prev","nextunique","prevunique"].includes(b))throw new TypeError(b+"is not a valid cursor direction");Object.defineProperties(this,{source:{writable:!1,value:d},direction:{writable:!1,value:b||"next"}}),this.__key=void 0,this.__primaryKey=void 0,this.__store=c,this.__range=h,this.__req=i.IDBRequest.__createInstance(),this.__req.__source=d,this.__req.__transaction=this.__store.transaction,this.__keyColumnName=e,this.__valueColumnName=f,this.__keyOnly="key"===f,this.__valueDecoder=this.__keyOnly?t:v,this.__count=g,this.__prefetchedIndex=-1,this.__multiEntryIndex=!!this.__indexSource&&d.multiEntry,this.__unique=this.direction.includes("unique"),this.__sqlDirection=["prev","prevunique"].includes(this.direction)?"DESC":"ASC",void 0!==h&&(h.__lowerCached=void 0!==h.lower&&t.encode(h.lower,this.__multiEntryIndex),h.__upperCached=void 0!==h.upper&&t.encode(h.upper,this.__multiEntryIndex)),this.__gotValue=!0,this.continue()},f.__createInstance=function(){var a=A.__super;a.prototype=A.prototype;for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return new(Function.prototype.bind.apply(a,[null].concat(c)))},f.prototype.__find=function(){this.__multiEntryIndex?this.__findMultiEntry.apply(this,arguments):this.__findBasic.apply(this,arguments)},f.prototype.__findBasic=function(a,b,c,d,e,f){var g=void 0!==f;f=f||1;var h=this,i=p.sqlQuote(h.__keyColumnName),j=p.sqlQuote("key"),k=["SELECT * FROM",p.escapeStoreNameForSQL(h.__store.__currentName)],l=[];k.push("WHERE",i,"NOT NULL"),(0,m.setSQLForKeyRange)(h.__range,i,k,l,!0,!0);var n=h.__sqlDirection,o="ASC"===n?">":"<";void 0!==b&&(k.push("AND",j,o+"= ?"),l.push(t.encode(b))),void 0!==a?(k.push("AND",i,o+"= ?"),l.push(t.encode(a))):g&&void 0!==h.__key&&(k.push("AND",i,o+" ?"),l.push(t.encode(h.__key))),h.__count||(k.push("ORDER BY",i,n),h.__unique||"key"===h.__keyColumnName||k.push(",",j,n),!h.__unique&&h.__indexSource&&k.push(",",p.sqlQuote(h.__valueColumnName),n),k.push("LIMIT",f)),k=k.join(" "),z.default.DEBUG&&console.log(k,l),c.executeSql(k,l,function(a,b){h.__count?d(void 0,b.rows.length,void 0):b.rows.length>1?(h.__prefetchedIndex=0,h.__prefetchedData=b.rows,z.default.DEBUG&&console.log("Preloaded "+h.__prefetchedData.length+" records for cursor"),h.__decode(b.rows.item(0),d)):1===b.rows.length?h.__decode(b.rows.item(0),d):(z.default.DEBUG&&console.log("Reached end of cursors"),d(void 0,void 0,void 0))},function(a,b){z.default.DEBUG&&console.log("Could not execute Cursor.continue",k,l),e(b)})},f.prototype.__findMultiEntry=function(a,b,c,d,e){var f=this;if(f.__prefetchedData&&f.__prefetchedData.length===f.__prefetchedIndex)return z.default.DEBUG&&console.log("Reached end of multiEntry cursor"),void d(void 0,void 0,void 0);var g=p.sqlQuote(f.__keyColumnName),h=["SELECT * FROM",p.escapeStoreNameForSQL(f.__store.__currentName)],i=[];h.push("WHERE",g,"NOT NULL"),f.__range&&void 0!==f.__range.lower&&Array.isArray(f.__range.upper)&&0===f.__range.upper.indexOf(f.__range.lower)&&(h.push("AND",g,"LIKE ? ESCAPE '^'"),i.push("%"+p.sqlLIKEEscape(f.__range.__lowerCached.slice(0,-1))+"%"));var j=f.__sqlDirection,k="ASC"===j?">":"<",l=p.sqlQuote("key");void 0!==b&&(h.push("AND",l,k+"= ?"),i.push(t.encode(b))),void 0!==a?(h.push("AND",g,k+"= ?"),i.push(t.encode(a))):void 0!==f.__key&&(h.push("AND",g,k+" ?"),i.push(t.encode(f.__key))),f.__count||(h.push("ORDER BY",g,j),f.__unique||"key"===f.__keyColumnName||h.push(",",p.sqlQuote("key"),j),!f.__unique&&f.__indexSource&&h.push(",",p.sqlQuote(f.__valueColumnName),j)),h=h.join(" "),z.default.DEBUG&&console.log(h,i),c.executeSql(h,i,function(a,b){if(b.rows.length>0){if(f.__count){for(var c=0,e=0;e<b.rows.length;e++){var g=b.rows.item(e),h=t.decode(g[f.__keyColumnName],!0);c+=t.findMultiEntryMatches(h,f.__range).length}return void d(void 0,c,void 0)}for(var i=[],j=0;j<b.rows.length;j++)for(var k=b.rows.item(j),l=t.decode(k[f.__keyColumnName],!0),m=t.findMultiEntryMatches(l,f.__range),n=0;n<m.length;n++){var o=m[n],p={matchingKey:t.encode(o,!0),key:k.key};p[f.__keyColumnName]=k[f.__keyColumnName],p[f.__valueColumnName]=k[f.__valueColumnName],i.push(p)}var q=0===f.direction.indexOf("prev");i.sort(function(a,b){return a.matchingKey.replace("[","z")<b.matchingKey.replace("[","z")?q?1:-1:a.matchingKey.replace("[","z")>b.matchingKey.replace("[","z")?q?-1:1:a.key<b.key?"prev"===f.direction?1:-1:a.key>b.key?"prev"===f.direction?-1:1:0}),i.length>1?(f.__prefetchedIndex=0,f.__prefetchedData={data:i,length:i.length,item:function(a){return this.data[a]}},z.default.DEBUG&&console.log("Preloaded "+f.__prefetchedData.length+" records for multiEntry cursor"),f.__decode(i[0],d)):1===i.length?(z.default.DEBUG&&console.log("Reached end of multiEntry cursor"),f.__decode(i[0],d)):(z.default.DEBUG&&console.log("Reached end of multiEntry cursor"),d(void 0,void 0,void 0))}else z.default.DEBUG&&console.log("Reached end of multiEntry cursor"),d(void 0,void 0,void 0)},function(a,b){z.default.DEBUG&&console.log("Could not execute Cursor.continue",h,i),e(b)})},f.prototype.__onsuccess=function(a){var b=this;return function(c,d,e){if(b.__count)a(d,b.__req);else{void 0!==c&&(b.__gotValue=!0),b.__key=void 0===c?null:c,b.__primaryKey=void 0===e?null:e,b.__value=void 0===d?null:d;a(void 0===c?null:b,b.__req)}}},f.prototype.__decode=function(a,b){var c=this;if(c.__multiEntryIndex&&c.__unique){if(c.__matchedKeys||(c.__matchedKeys={}),c.__matchedKeys[a.matchingKey])return void b(void 0,void 0,void 0);c.__matchedKeys[a.matchingKey]=!0}var d=p.unescapeSQLiteResponse(c.__multiEntryIndex?a.matchingKey:a[c.__keyColumnName]),e=p.unescapeSQLiteResponse(a[c.__valueColumnName]),f=p.unescapeSQLiteResponse(a.key);b(t.decode(d,c.__multiEntryIndex),c.__valueDecoder.decode(e),t.decode(f),d)},f.prototype.__sourceOrEffectiveObjStoreDeleted=function(){k.default.__invalidStateIfDeleted(this.__store,"The cursor's effective object store has been deleted"),this.__indexSource&&x.default.__invalidStateIfDeleted(this.source,"The cursor's index source has been deleted")},f.prototype.__invalidateCache=function(){this.__prefetchedData=null},f.prototype.__continue=function(a,b){var c=this,d=void 0!==c.__advanceCount;if(r.default.__assertActive(c.__store.transaction),c.__sourceOrEffectiveObjStoreDeleted(),!c.__gotValue&&!b)throw(0,l.createDOMException)("InvalidStateError","The cursor is being iterated or has iterated past its end.");if(void 0!==a){t.convertValueToKeyRethrowingAndIfInvalid(a);var e=(0,n.cmp)(a,c.key);if(0===e||c.direction.includes("next")&&-1===e||c.direction.includes("prev")&&1===e)throw(0,l.createDOMException)("DataError","Cannot "+(d?"advance":"continue")+" the cursor in an unexpected direction")}this.__continueFinish(a,void 0,d)},f.prototype.__continueFinish=function(a,b,c){var d=this,e=d.__advanceCount||z.default.cursorPreloadPackSize||100;d.__gotValue=!1,d.__req.__readyState="pending",d.__store.transaction.__pushToQueue(d.__req,function f(g,h,i,j,k){function l(a,b,e){if(c){if(d.__advanceCount>=2&&void 0!==a)return d.__advanceCount--,d.__key=a,d.__continue(void 0,!0),void k();d.__advanceCount=void 0}d.__onsuccess(i)(a,b,e)}if(d.__prefetchedData&&++d.__prefetchedIndex<d.__prefetchedData.length)return void d.__decode(d.__prefetchedData.item(d.__prefetchedIndex),function(c,e,k,m){if(d.__unique&&!d.__multiEntryIndex&&m===t.encode(d.key,d.__multiEntryIndex))return void f(g,h,i,j);!function(){var m=void 0===a||(0,n.cmp)(c,a);if(m>0||0===m&&(d.__unique||void 0===b||(0,n.cmp)(k,b)>=0))return void l(c,e,k);f(g,h,i,j)}()});d.__find(a,b,g,l,function(){d.__advanceCount=void 0,j.apply(void 0,arguments)},e)})},f.prototype.continue=function(){this.__continue(arguments[0])},f.prototype.continuePrimaryKey=function(a,b){function c(){d.__continueFinish(a,b,!1)}var d=this;if(r.default.__assertActive(d.__store.transaction),d.__sourceOrEffectiveObjStoreDeleted(),!d.__indexSource)throw(0,l.createDOMException)("InvalidAccessError","`continuePrimaryKey` may only be called on an index source.");if(!["next","prev"].includes(d.direction))throw(0,l.createDOMException)("InvalidAccessError","`continuePrimaryKey` may not be called with unique cursors.");if(!d.__gotValue)throw(0,l.createDOMException)("InvalidStateError","The cursor is being iterated or has iterated past its end.");t.convertValueToKeyRethrowingAndIfInvalid(a),t.convertValueToKeyRethrowingAndIfInvalid(b);var e=(0,n.cmp)(a,d.key);if("next"===d.direction&&-1===e||"prev"===d.direction&&1===e)throw(0,l.createDOMException)("DataError","Cannot continue the cursor in an unexpected direction");0===e?v.encode(b,function(a){v.encode(d.primaryKey,function(b){if(a===b||"next"===d.direction&&a<b||"prev"===d.direction&&a>b)throw(0,l.createDOMException)("DataError","Cannot continue the cursor in an unexpected direction");c()})}):c()},f.prototype.advance=function(a){var b=this;if(0===(a=p.enforceRange(a,"unsigned long")))throw new TypeError("Calling advance() with count argument 0");b.__gotValue&&(b.__advanceCount=a),b.__continue()},f.prototype.update=function(a){function b(a){k.default.__storingRecordObjectStore(d,c.__store,a,!1,e)}var c=this;if(!arguments.length)throw new TypeError("A value must be passed to update()");if(r.default.__assertActive(c.__store.transaction),c.__store.transaction.__assertWritable(),c.__sourceOrEffectiveObjStoreDeleted(),!c.__gotValue)throw(0,l.createDOMException)("InvalidStateError","The cursor is being iterated or has iterated past its end.");if(c.__keyOnly)throw(0,l.createDOMException)("InvalidStateError","This cursor method cannot be called when the key only flag has been set.");var d=c.__store.transaction.__createRequest(c),e=c.primaryKey;if(null!==c.__store.keyPath){var f=c.__store.__validateKeyAndValueAndCloneValue(a,void 0,!0),g=h(f,2),i=g[0],j=g[1];if(0!==(0,n.cmp)(c.primaryKey,i))throw(0,l.createDOMException)("DataError","The key of the supplied value to `update` is not equal to the cursor's effective key");b(j)}else{b(v.clone(a))}return d},f.prototype.delete=function(){var a=this;if(r.default.__assertActive(a.__store.transaction),a.__store.transaction.__assertWritable(),a.__sourceOrEffectiveObjStoreDeleted(),!a.__gotValue)throw(0,l.createDOMException)("InvalidStateError","The cursor is being iterated or has iterated past its end.");if(a.__keyOnly)throw(0,l.createDOMException)("InvalidStateError","This cursor method cannot be called when the key only flag has been set.");return this.__store.transaction.__addToTransactionQueue(function(b,c,d,e){a.__find(void 0,void 0,b,function(c,f,g){var h="DELETE FROM  "+p.escapeStoreNameForSQL(a.__store.__currentName)+' WHERE "key" = ?';z.default.DEBUG&&console.log(h,c,g),b.executeSql(h,[p.escapeSQLiteStatement(t.encode(g))],function(b,f){1===f.rowsAffected?(a.__store.__cursors.forEach(function(a){a.__invalidateCache()}),d(void 0)):e("No rows with key found"+c)},function(a,b){e(b)})},e)},void 0,a)},f.prototype[Symbol.toStringTag]="IDBCursorPrototype",["source","direction","key","primaryKey"].forEach(function(a){Object.defineProperty(f.prototype,a,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}})}),Object.defineProperty(f,"prototype",{writable:!1}),g.prototype=Object.create(f.prototype),Object.defineProperty(g.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:g});var B=g;g.__createInstance=function(){function a(){var a;(a=f.__super).call.apply(a,[this].concat(c)),this[Symbol.toStringTag]="IDBCursorWithValue",p.defineReadonlyProperties(this,"value")}for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.prototype=B.prototype,new a},Object.defineProperty(g.prototype,"value",{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}}),g.prototype[Symbol.toStringTag]="IDBCursorWithValuePrototype",Object.defineProperty(g,"prototype",{writable:!1}),c.IDBCursor=f,c.IDBCursorWithValue=g},{"./CFG":31,"./DOMException":32,"./IDBFactory":37,"./IDBIndex":38,"./IDBKeyRange":39,"./IDBObjectStore":40,"./IDBRequest":41,"./IDBTransaction":42,"./Key":44,"./Sca":45,"./util":49}],36:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function f(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function g(){throw new TypeError("Illegal constructor")}Object.defineProperty(c,"__esModule",{value:!0});var h=a("./DOMException"),i=a("./Event"),j=a("./util"),k=e(j),l=a("./DOMStringList"),m=d(l),n=a("./IDBObjectStore"),o=d(n),p=a("./IDBTransaction"),q=d(p),r=a("./Sca"),s=e(r),t=a("./CFG"),u=d(t),v=a("eventtarget"),w=["onabort","onclose","onerror","onversionchange"],x=["name","version","objectStoreNames"],y=g;g.__createInstance=function(a,b,c,d,e){function f(){var f=this;this[Symbol.toStringTag]="IDBDatabase",k.defineReadonlyProperties(this,x),this.__db=a,this.__closed=!1,this.__oldVersion=c,this.__version=d,this.__name=b,w.forEach(function(a){Object.defineProperty(f,a,{enumerable:!0,configurable:!0,get:function(){return this["__"+a]},set:function(b){this["__"+a]=b}})}),w.forEach(function(a){f[a]=null}),this.__setOptions({legacyOutputDidListenersThrowFlag:!0}),this.__transactions=[],this.__objectStores={},this.__objectStoreNames=m.default.__createInstance();for(var g={},h=0;h<e.rows.length;h++)!function(a){var b=e.rows.item(a);g.name=b.name,g.keyPath=s.decode(b.keyPath),["autoInc","indexList"].forEach(function(a){g[a]=JSON.parse(b[a])}),g.idbdb=f;var c=o.default.__createInstance(g);f.__objectStores[c.name]=c,f.objectStoreNames.push(c.name)}(h);this.__oldObjectStoreNames=this.objectStoreNames.clone()}return f.prototype=y.prototype,new f},g.prototype=v.EventTargetFactory.createInstance(),g.prototype[Symbol.toStringTag]="IDBDatabasePrototype",g.prototype.createObjectStore=function(a){var b=arguments[1];if(a=String(a),!(this instanceof g))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No object store name was specified");q.default.__assertVersionChange(this.__versionTransaction),q.default.__assertNotFinishedObjectStoreMethod(this.__versionTransaction),q.default.__assertActive(this.__versionTransaction),b=Object.assign({},b);var c=b.keyPath;if(null!==(c=void 0===c?null:c=k.convertToSequenceDOMString(c))&&!k.isValidKeyPath(c))throw(0,h.createDOMException)("SyntaxError","The keyPath argument contains an invalid key path.");if(this.__objectStores[a]&&!this.__objectStores[a].__pendingDelete)throw(0,h.createDOMException)("ConstraintError",'Object store "'+a+'" already exists in '+this.name);var d=b.autoIncrement;if(d&&(""===c||Array.isArray(c)))throw(0,h.createDOMException)("InvalidAccessError","With autoIncrement set, the keyPath argument must not be an array or empty string.");var e={name:a,keyPath:c,autoInc:d,indexList:{},idbdb:this},f=o.default.__createInstance(e,this.__versionTransaction);return o.default.__createObjectStore(this,f)},g.prototype.deleteObjectStore=function(a){if(!(this instanceof g))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No object store name was specified");q.default.__assertVersionChange(this.__versionTransaction),q.default.__assertNotFinishedObjectStoreMethod(this.__versionTransaction),q.default.__assertActive(this.__versionTransaction);var b=this.__objectStores[a];if(!b)throw(0,h.createDOMException)("NotFoundError",'Object store "'+a+'" does not exist in '+this.name);o.default.__deleteObjectStore(this,b)},g.prototype.close=function(){if(!(this instanceof g))throw new TypeError("Illegal invocation");this.__closed=!0,this.__unblocking&&this.__unblocking.check()},g.prototype.transaction=function(a){var b=this,c=arguments[1];if(a="string"==typeof a?[a]:k.isIterable(a)?[].concat(f(new Set(k.convertToSequenceDOMString(a)))).sort():function(){throw new TypeError("You must supply a valid `storeNames` to `IDBDatabase.transaction`")}(),"number"==typeof c?(c=1===c?"readwrite":"readonly",u.default.DEBUG&&console.log("Mode should be a string, but was specified as ",c)):c=c||"readonly",q.default.__assertNotVersionChange(this.__versionTransaction),this.__closed)throw(0,h.createDOMException)("InvalidStateError","An attempt was made to start a new transaction on a database connection that is not open");var d=m.default.__createInstance();if(a.forEach(function(a){if(!b.objectStoreNames.contains(a))throw(0,h.createDOMException)("NotFoundError",'The "'+a+'" object store does not exist');d.push(a)}),0===a.length)throw(0,h.createDOMException)("InvalidAccessError","No valid object store names were specified");if("readonly"!==c&&"readwrite"!==c)throw new TypeError("Invalid transaction mode: "+c);var e=q.default.__createInstance(this,d,c);return this.__transactions.push(e),e},g.prototype.__forceClose=function(a){var b=this;b.close();var c=0;b.__transactions.forEach(function(d){d.on__abort=function(){if(++c===b.__transactions.length){var a=(0,i.createEvent)("close");setTimeout(function(){b.dispatchEvent(a)})}},d.__abortTransaction((0,h.createDOMException)("AbortError","The connection was force-closed: "+(a||"")))})},w.forEach(function(a){Object.defineProperty(g.prototype,a,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")},set:function(a){throw new TypeError("Illegal invocation")}})}),x.forEach(function(a){Object.defineProperty(g.prototype,a,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}})}),Object.defineProperty(g.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:g}),Object.defineProperty(g,"prototype",{writable:!1}),c.default=g,b.exports=c.default},{"./CFG":31,"./DOMException":32,"./DOMStringList":33,"./Event":34,"./IDBObjectStore":40,"./IDBTransaction":42,"./Sca":45,"./util":49,eventtarget:3}],37:[function(a,b,c){(function(b){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}function f(a){function b(){d.shift(),f(a,c)}var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K(),d=M[c][a];if(d[0]){var e=d[0],g=e.req,h=e.cb;g.addEventListener("success",b),g.addEventListener("error",b),h(g)}}function g(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K(),d=arguments[3];M[c][b]||(M[c][b]=[]),M[c][b].push({req:a,cb:d}),1===M[c][b].length&&f(b,c)}function h(a,b,c,d){var e=function(a){return a.__closed},f=function(){return a.every(e)};return a.reduce(function(a,b){return e(b)?a:a.then(function(){if(!e(b)){var a=new r.default("versionchange",{oldVersion:c,newVersion:d});return new H.default(function(c){setTimeout(function(){b.dispatchEvent(a),c()})})}})},H.default.resolve()).then(function(){if(!f())return new H.default(function(g){var h={check:function(){f()&&g()}},i=new r.default("blocked",{oldVersion:c,newVersion:d});setTimeout(function(){b.dispatchEvent(i),f()?g():a.forEach(function(a){e(a)||(a.__unblocking=h)})})})})}function i(a){return Object.keys(N[a]).map(Number).reduce(function(a,b){return b>a?b:a},0)}function j(a){return N[a]&&N[a][i()]}function k(c,d,e,f,g){if("string"==typeof F.default.memoryDatabase){var h=N[d]?j(d):null;if(!h)return console.warn("Could not find a memory database instance to delete."),void f();var i=h._db&&h._db._db;return i&&i.close?void i.close(function(a){if(a)return void console.warn("Error closing (destroying) memory database");f()
}):void console.error("The `openDatabase` implementation does not have the expected `._db._db.close` method for closing the database")}if(!1!==F.default.deleteDatabaseFiles&&"[object process]"==={}.toString.call(b))return void a("fs").unlink(a("path").resolve(e),function(a){if(a&&"ENOENT"!==a.code)return void g({code:0,message:"Error removing database file: "+e+" "+a});f()});c(J.default.join(F.default.databaseBasePath||"",e),1,d,F.default.DEFAULT_DB_SIZE).transaction(function(a){a.executeSql('SELECT "name" FROM __sys__',[],function(a,b){var c=b.rows;!function b(d){d>=c.length?a.executeSql("DROP TABLE IF EXISTS __sys__",[],function(){f()},g):a.executeSql("DROP TABLE "+x.escapeStoreNameForSQL(x.unescapeSQLiteResponse(c.item(d).name)),[],function(){b(d+1)},function(){b(d+1)})}(0)},function(a){f()})})}function l(a,b,c){function d(a,b){b=(0,s.webSQLErrback)(b),F.default.DEBUG&&console.log("Error in sysdb transaction - when creating dbVersions",b),c(b)}O?b():(O=a("string"==typeof F.default.memoryDatabase?F.default.memoryDatabase:J.default.join("string"==typeof F.default.sysDatabaseBasePath?F.default.sysDatabaseBasePath:F.default.databaseBasePath||"","__sysdb__"+(!1!==F.default.addSQLiteExtension?".sqlite":"")),1,"System Database",F.default.DEFAULT_DB_SIZE),O.transaction(function(a){a.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name BLOB, version INT);",[],b,d)},d))}function m(){throw new TypeError("Illegal constructor")}function n(a,b){var c=z.encode(a),d=z.encode(b),e=c>d?1:c===d?0:-1;if(F.default.DEBUG){var f=z.decode(c),g=z.decode(d);"object"===(void 0===a?"undefined":o(a))&&(a=JSON.stringify(a),f=JSON.stringify(f)),"object"===(void 0===b?"undefined":o(b))&&(b=JSON.stringify(b),g=JSON.stringify(g)),f!==a&&console.warn(a+" was incorrectly encoded as "+f),g!==b&&console.warn(b+" was incorrectly encoded as "+g)}return e}Object.defineProperty(c,"__esModule",{value:!0}),c.shimIndexedDB=c.cmp=c.IDBFactory=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},p=a("./Event"),q=a("./IDBVersionChangeEvent"),r=e(q),s=a("./DOMException"),t=a("./IDBRequest"),u=a("./DOMStringList"),v=e(u),w=a("./util"),x=d(w),y=a("./Key"),z=d(y),A=a("./IDBTransaction"),B=e(A),C=a("./IDBDatabase"),D=e(C),E=a("./CFG"),F=e(E),G=a("sync-promise"),H=e(G),I=a("path"),J=e(I),K=function(){return"object"===("undefined"==typeof location?"undefined":o(location))&&location?location.origin:"null"},L=function(){return!1!==F.default.checkOrigin&&"null"===K()},M={},N={},O=void 0,P=0,Q=m;m.__createInstance=function(){function a(){this[Symbol.toStringTag]="IDBFactory",this.modules={Event:"undefined"!=typeof Event?Event:p.ShimEvent,Error:Error,ShimEvent:p.ShimEvent,ShimCustomEvent:p.ShimCustomEvent,ShimEventTarget:p.ShimEventTarget,ShimDOMException:s.ShimDOMException,ShimDOMStringList:v.default,IDBFactory:Q},this.utils={createDOMException:s.createDOMException},this.__connections={}}return a.prototype=Q.prototype,new a},m.prototype.open=function(a){function b(a,b){if(!j){b=b?(0,s.webSQLErrback)(b):a,j=!0;var c=(0,p.createEvent)("error",b,{bubbles:!0,cancelable:!0});f.__readyState="done",f.__error=b,f.__result=void 0,f.dispatchEvent(c)}}function c(c){var g=void 0;if((o||q)&&a in N&&N[a][e]?g=N[a][e]:(g=d.__openDatabase(o?F.default.memoryDatabase:J.default.join(F.default.databaseBasePath||"",u),1,a,F.default.DEFAULT_DB_SIZE),q&&(N[a][e]=g)),void 0===e&&(e=c||1),c>e){return void b((0,s.createDOMException)("VersionError","An attempt was made to open a database using a lower version than the existing version.",e))}g.transaction(function(i){i.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name BLOB, keyPath BLOB, autoInc BOOLEAN, indexList BLOB, currNum INTEGER)",[],function(){i.executeSql('SELECT "name", "keyPath", "autoInc", "indexList" FROM __sys__',[],function(i,j){function l(){f.__readyState="done",f.__result=m}var m=D.default.__createInstance(g,a,c,e,j);if(d.__connections[a]||(d.__connections[a]=[]),d.__connections[a].push(m),c<e){h(d.__connections[a].slice(0,-1),f,c,e).then(function(){var g=function(a,b,d){if(b)try{a.executeSql("ROLLBACK",[],d,d)}catch(a){O.transaction(function(a){function b(a){throw new Error("Unable to roll back upgrade transaction!"+(a||""))}0===c?a.executeSql('DELETE FROM dbVersions WHERE "name" = ?',[n],function(){d(b)},b):a.executeSql('UPDATE dbVersions SET "version" = ? WHERE "name" = ?',[c,n],d,b)})}else d()};O.transaction(function(h){function i(){var i=new r.default("upgradeneeded",{oldVersion:c,newVersion:e});f.__result=m,f.__transaction=f.__result.__versionTransaction=B.default.__createInstance(f.__result,f.__result.objectStoreNames,"versionchange"),f.__readyState="done",f.transaction.__addNonRequestToTransactionQueue(function(a,b,c,d){if(f.dispatchEvent(i),i.__legacyOutputDidListenersThrowError)return(0,s.logError)("Error","An error occurred in an upgradeneeded handler attached to request chain",i.__legacyOutputDidListenersThrowError),void f.transaction.__abortTransaction((0,s.createDOMException)("AbortError","A request was aborted."));c()}),f.transaction.on__beforecomplete=function(b){f.__result.__versionTransaction=null,g(h,!1,function(){f.transaction.__transFinishedCb(!1,function(){q&&a in N&&delete N[a][e],b.complete(),f.__transaction=null})})},f.transaction.on__preabort=function(){q&&a in N&&delete N[a][e]},f.transaction.on__abort=function(){f.__transaction=null,m.close(),setTimeout(function(){var e=(0,s.createDOMException)("AbortError","The upgrade transaction was aborted.");g(h,e,function(f){if(0===c)return void k(d.__openDatabase,a,u,b.bind(null,e),f||b);b(e)})})},f.transaction.on__complete=function(){if(f.__result.__closed){f.__transaction=null;return void b((0,s.createDOMException)("AbortError","The connection has been closed."))}l(),f.__transaction=null;var a=(0,p.createEvent)("success");f.dispatchEvent(a)}}0===c?h.executeSql("INSERT INTO dbVersions VALUES (?,?)",[n,e],i,b):h.executeSql('UPDATE dbVersions SET "version" = ? WHERE "name" = ?',[e,n],i,b)},b,null,function(a,b,c,d,e){return!(!a.readOnly&&!b)||(g=function(a,b,c){b?d(b,c):e(c)},!1)})})}else{l();var o=(0,p.createEvent)("success");f.dispatchEvent(o)}},b)},b)},b)}var d=this;if(!(d instanceof m))throw new TypeError("Illegal invocation");var e=arguments[1];if(0===arguments.length)throw new TypeError("Database name is required");if(void 0!==e&&0===(e=x.enforceRange(e,"unsigned long long")))throw new TypeError("Version cannot be 0");if(L())throw(0,s.createDOMException)("SecurityError","Cannot open an IndexedDB database from an opaque origin.");var f=t.IDBOpenDBRequest.__createInstance(),j=!1;F.default.autoName&&""===a&&(a="autoNamedDatabase_"+P++),a=String(a);var n=x.escapeSQLiteStatement(a),o="string"==typeof F.default.memoryDatabase,q=!1!==F.default.cacheDatabaseInstances||o,u=void 0;try{u=x.escapeDatabaseNameForSQLAndFiles(a)}catch(a){throw a}return g(f,a,void 0,function(f){var g=void 0;q&&(a in N||(N[a]={}),void 0===e?g=i(a):N[a][e]&&(g=e)),g?c(g):l(d.__openDatabase,function(){O.readTransaction(function(a){a.executeSql('SELECT "version" FROM dbVersions WHERE "name" = ?',[n],function(a,b){c(0===b.rows.length?0:b.rows.item(0).version)},b)},b)},b)}),f},m.prototype.deleteDatabase=function(a){function b(a,b){n||!0===b||(b=(0,s.webSQLErrback)(b||a),q(!0,function(){j.__readyState="done",j.__error=b,j.__result=void 0;var a=(0,p.createEvent)("error",b,{bubbles:!0,cancelable:!0});j.dispatchEvent(a),n=!0}))}var c=this;if(!(c instanceof m))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("Database name is required");if(L())throw(0,s.createDOMException)("SecurityError","Cannot delete an IndexedDB database from an opaque origin.");a=String(a);var d=x.escapeSQLiteStatement(a),e=void 0;try{e=x.escapeDatabaseNameForSQLAndFiles(a)}catch(a){throw a}var f="string"==typeof F.default.memoryDatabase,i=!1!==F.default.cacheDatabaseInstances||f,j=t.IDBOpenDBRequest.__createInstance(),n=!1,o=0,q=function(a,b){b(a)};return g(j,a,void 0,function(f){l(c.__openDatabase,function(){function g(){f.__result=void 0,f.__readyState="done";var a=new r.default("success",{oldVersion:o,newVersion:null});f.dispatchEvent(a)}function j(){q(!1,function(){i&&a in N&&delete N[a],delete c.__connections[a],g()})}O.readTransaction(function(i){i.executeSql('SELECT "version" FROM dbVersions WHERE "name" = ?',[d],function(i,l){if(0===l.rows.length)return void g();o=l.rows.item(0).version,h(c.__connections[a]||[],f,o,null).then(function(){O.transaction(function(f){f.executeSql('DELETE FROM dbVersions WHERE "name" = ? ',[d],function(){k(c.__openDatabase,a,e,j,b)},b)},b,null,function(a,b,c,d,e){return!(!a.readOnly&&!b&&(q=function(a,b){a?d(a,b):e(b)},1))})},b)},b)})},b)}),j},m.prototype.cmp=function(a,b){if(!(this instanceof m))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("You must provide two keys to be compared");return z.convertValueToKeyRethrowingAndIfInvalid(a),z.convertValueToKeyRethrowingAndIfInvalid(b),n(a,b)},m.prototype.webkitGetDatabaseNames=function(){function a(a,b){if(!c){b=b?(0,s.webSQLErrback)(b):a,c=!0;var e=(0,p.createEvent)("error",b,{bubbles:!0,cancelable:!0});d.__readyState="done",d.__error=b,d.__result=void 0,d.dispatchEvent(e)}}var b=this;if(!(b instanceof m))throw new TypeError("Illegal invocation");if(L())throw(0,s.createDOMException)("SecurityError","Cannot get IndexedDB database names from an opaque origin.");var c=!1,d=t.IDBRequest.__createInstance();return l(b.__openDatabase,function(){O.readTransaction(function(b){b.executeSql('SELECT "name" FROM dbVersions',[],function(a,b){for(var c=v.default.__createInstance(),e=0;e<b.rows.length;e++)c.push(x.unescapeSQLiteResponse(b.rows.item(e).name));d.__result=c,d.__readyState="done";var f=(0,p.createEvent)("success");d.dispatchEvent(f)},a)},a)},a),d},m.prototype.__forceClose=function(a,b,c){function d(a){a.__forceClose(c)}var e=this;if(null==a)Object.values(e.__connections).forEach(function(a){return a.forEach(d)});else if(e.__connections[a])if(null==b)e.__connections[a].forEach(d);else{if(!Number.isInteger(b)||b<0||b>e.__connections[a].length-1)throw new TypeError("If providing an argument, __forceClose must be called with a numeric index to indicate a specific connection to lose");d(e.__connections[a][b])}else console.log("No database connections with that name to force close")},m.prototype.__setConnectionQueueOrigin=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K();M[a]={}},m.prototype[Symbol.toStringTag]="IDBFactoryPrototype",Object.defineProperty(m,"prototype",{writable:!1});var R=m.__createInstance();c.IDBFactory=m,c.cmp=n,c.shimIndexedDB=R}).call(this,a("_process"))},{"./CFG":31,"./DOMException":32,"./DOMStringList":33,"./Event":34,"./IDBDatabase":36,"./IDBRequest":41,"./IDBTransaction":42,"./IDBVersionChangeEvent":43,"./Key":44,"./util":49,_process:5,fs:2,path:4,"sync-promise":6}],38:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function f(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function g(){throw new TypeError("Illegal constructor")}function h(a,b,c,d,e,f,g,h,i,j,k,l,n){b&&(a=1),a&&h.push("LIMIT",a);var p="count"===f;v.default.DEBUG&&console.log("Trying to fetch data for Index",h.join(" "),i),j.executeSql(h.join(" "),i,function(a,h){var i=[],j=0,k=p?function(){}:"key"===f?function(a){return o.decode(m.unescapeSQLiteResponse(a.key))}:function(a){return t.decode(m.unescapeSQLiteResponse(a.value))};if(c.multiEntry)for(var n=m.escapeIndexNameForSQLKeyColumn(c.name),q=o.encode(e,c.multiEntry),r=0;r<h.rows.length;r++){var s=function(a){var c=h.rows.item(a),f=o.decode(c[n]),l=void 0;if(d&&(g&&e.some(function(a){return f.includes(a)})||o.isMultiEntryMatch(q,c[n]))?(j++,l=c):d||g||void 0!==f&&(j+=Array.isArray(f)?f.length:1,l=c),l&&(i.push(k(l)),b))return"break"}(r);if("break"===s)break}else{for(var r=0;r<h.rows.length;r++){var u=h.rows.item(r);u&&i.push(k(u))}j=i.length}l(p?j:0===j?b?void 0:[]:b?i[0]:i)},n)}function i(a,b,c,d,e){var f=a||null!=c,g="count"===d?"key":d,h=["SELECT",m.sqlQuote(g)+(b.multiEntry?", "+m.escapeIndexNameForSQL(b.name):""),"FROM",m.escapeStoreNameForSQL(b.objectStore.__currentName),"WHERE",m.escapeIndexNameForSQL(b.name),"NOT NULL"],i=[];if(f)if(e)h.push("AND ("),c.forEach(function(a,c){c>0&&h.push("OR"),h.push(m.escapeIndexNameForSQL(b.name),"LIKE ? ESCAPE '^' "),i.push("%"+m.sqlLIKEEscape(o.encode(a,b.multiEntry))+"%")}),h.push(")");else if(b.multiEntry)h.push("AND",m.escapeIndexNameForSQL(b.name),"LIKE ? ESCAPE '^'"),i.push("%"+m.sqlLIKEEscape(o.encode(c,b.multiEntry))+"%");else{var j=(0,p.convertValueToKeyRange)(c,a);(0,p.setSQLForKeyRange)(j,m.escapeIndexNameForSQL(b.name),h,i,!0,!1)}return[a,b,f,c,d,e,h,i]}Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.IDBIndex=c.executeFetchIndexData=c.buildFetchIndexDataSQL=void 0;var j=a("./DOMException"),k=a("./IDBCursor"),l=a("./util"),m=e(l),n=a("./Key"),o=e(n),p=a("./IDBKeyRange"),q=a("./IDBTransaction"),r=d(q),s=a("./Sca"),t=e(s),u=a("./CFG"),v=d(u),w=a("./IDBObjectStore"),x=d(w),y=["objectStore","keyPath","multiEntry","unique"],z=g;g.__createInstance=function(a,b){function c(){var c=this;c[Symbol.toStringTag]="IDBIndex",m.defineReadonlyProperties(c,y),c.__objectStore=a,c.__name=c.__originalName=b.columnName,c.__keyPath=Array.isArray(b.keyPath)?b.keyPath.slice():b.keyPath;var d=b.optionalParams;c.__multiEntry=!(!d||!d.multiEntry),c.__unique=!(!d||!d.unique),c.__deleted=!!b.__deleted,c.__objectStore.__cursors=b.cursors||[],Object.defineProperty(c,"__currentName",{get:function(){return"__pendingName"in c?c.__pendingName:c.name}}),Object.defineProperty(c,"name",{enumerable:!1,configurable:!1,get:function(){return this.__name},set:function(b){var c=this;b=m.convertToDOMString(b);var d=c.name;if(r.default.__assertVersionChange(c.objectStore.transaction),r.default.__assertActive(c.objectStore.transaction),z.__invalidStateIfDeleted(c),x.default.__invalidStateIfDeleted(c),b!==d){if(c.objectStore.__indexes[b]&&!c.objectStore.__indexes[b].__deleted&&!c.objectStore.__indexes[b].__pendingDelete)throw(0,j.createDOMException)("ConstraintError",'Index "'+b+'" already exists on '+c.objectStore.__currentName);c.__name=b;var e=c.objectStore;delete e.__indexes[d],e.__indexes[b]=c,e.indexNames.splice(e.indexNames.indexOf(d),1,b);var g=e.transaction.__storeHandles[e.name],h=g.__indexHandles[d];h.__name=b,g.__indexHandles[b]=h,c.__pendingName=d;var i=[["key","BLOB "+(e.autoIncrement?"UNIQUE, inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY")],["value","BLOB"]].concat([].concat(f(e.indexNames)).filter(function(a){return a!==b}).map(function(a){return[m.escapeIndexNameForSQL(a),"BLOB"]}));c.__renameIndex(e,d,b,i,function(b,c){z.__updateIndexList(a,b,function(a){delete g.__pendingName,c(a)})})}}})}return c.prototype=z.prototype,new c},g.__invalidStateIfDeleted=function(a,b){if(a.__deleted||a.__pendingDelete||a.__pendingCreate&&a.objectStore.transaction&&a.objectStore.transaction.__errored)throw(0,j.createDOMException)("InvalidStateError",b||"This index has been deleted")},g.__clone=function(a,b){var c=g.__createInstance(b,{columnName:a.name,keyPath:a.keyPath,optionalParams:{multiEntry:a.multiEntry,unique:a.unique}});return["__pendingCreate","__pendingDelete","__deleted","__originalName","__recreated"].forEach(function(b){c[b]=a[b]}),c},g.__createIndex=function(a,b){var c=b.name,d=a.__currentName,e=a.__indexes[c];b.__pendingCreate=!0,a.indexNames.push(c),a.__indexes[c]=b;var f=a.__indexHandles[c];(!f||b.__pendingDelete||b.__deleted||f.__pendingDelete||f.__deleted)&&(f=a.__indexHandles[c]=g.__clone(b,a)),a.transaction.__addNonRequestToTransactionQueue(function(h,i,k,l){function n(a,b){l((0,j.createDOMException)("UnknownError",'Could not create index "'+c+'"'+b.code+"::"+b.message,b))}function p(e){g.__updateIndexList(a,e,function(){e.executeSql('SELECT "key", "value" FROM '+m.escapeStoreNameForSQL(d),[],function(e,g){function h(i){if(i<g.rows.length)try{var p=t.decode(m.unescapeSQLiteResponse(g.rows.item(i).value)),q=o.extractKeyValueDecodedFromValueUsingKeyPath(p,b.keyPath,b.multiEntry);if(q.invalid||q.failure)throw new Error("Go to catch; ignore bad indexKey");if(q=o.encode(q.value,b.multiEntry),b.unique){if(r[q])return r={},void l((0,j.createDOMException)("ConstraintError","Duplicate values already exist within the store"));r[q]=!0}e.executeSql("UPDATE "+m.escapeStoreNameForSQL(d)+" SET "+m.escapeIndexNameForSQL(c)+' = ? WHERE "key" = ?',[m.escapeSQLiteStatement(q),g.rows.item(i).key],function(a,b){h(i+1)},n)}catch(a){h(i+1)}else delete b.__pendingCreate,delete f.__pendingCreate,b.__deleted&&(delete b.__deleted,delete f.__deleted,b.__recreated=!0,f.__recreated=!0),r={},k(a)}v.default.DEBUG&&console.log("Adding existing "+d+" records to the "+c+" index"),h(0)},n)},n)}var q=e&&(e.__deleted||e.__recreated),r={};if(q)p(h);else{var s=["ALTER TABLE",m.escapeStoreNameForSQL(d),"ADD",m.escapeIndexNameForSQL(b.name),"BLOB"].join(" ");v.default.DEBUG&&console.log(s),h.executeSql(s,[],p,n)}},void 0,a)},g.__deleteIndex=function(a,b){b.__pendingDelete=!0;var c=a.__indexHandles[b.name];c&&(c.__pendingDelete=!0),a.indexNames.splice(a.indexNames.indexOf(b.name),1),a.transaction.__addNonRequestToTransactionQueue(function(d,e,f,h){function i(a,c){h((0,j.createDOMException)("UnknownError",'Could not delete index "'+b.name+'"',c))}g.__updateIndexList(a,d,function(a){delete b.__pendingDelete,delete b.__recreated,b.__deleted=!0,c&&(c.__deleted=!0,delete c.__pendingDelete),f(a)},i)},void 0,a)},g.__updateIndexList=function(a,b,c,d){for(var e={},f=0;f<a.indexNames.length;f++){var g=a.__indexes[a.indexNames[f]];e[g.name]={columnName:g.name,keyPath:g.keyPath,optionalParams:{unique:g.unique,multiEntry:g.multiEntry},deleted:!!g.deleted}}v.default.DEBUG&&console.log("Updating the index list for "+a.__currentName,e),b.executeSql('UPDATE __sys__ SET "indexList" = ? WHERE "name" = ?',[JSON.stringify(e),m.escapeSQLiteStatement(a.__currentName)],function(){c(a)},d)},g.prototype.__fetchIndexData=function(a,b,c,d){var e=this;if(void 0!==d&&(d=m.enforceRange(d,"unsigned long")),g.__invalidStateIfDeleted(e),x.default.__invalidStateIfDeleted(e.objectStore),e.objectStore.__deleted)throw(0,j.createDOMException)("InvalidStateError","This index's object store has been deleted");if(r.default.__assertActive(e.objectStore.transaction),c&&null==a)throw(0,j.createDOMException)("DataError","No key or range was specified");var k=i(c,e,a,b,!1);return e.objectStore.transaction.__addToTransactionQueue(function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];h.apply(void 0,[d].concat(f(k),b))},void 0,e)},g.prototype.openCursor=function(){var a=this,b=Array.prototype.slice.call(arguments),c=b[0],d=b[1],e=k.IDBCursorWithValue.__createInstance(c,d,a.objectStore,a,m.escapeIndexNameForSQLKeyColumn(a.name),"value");return a.__objectStore.__cursors.push(e),e.__req},g.prototype.openKeyCursor=function(){var a=this,b=Array.prototype.slice.call(arguments),c=b[0],d=b[1],e=k.IDBCursor.__createInstance(c,d,a.objectStore,a,m.escapeIndexNameForSQLKeyColumn(a.name),"key");return a.__objectStore.__cursors.push(e),e.__req},g.prototype.get=function(a){if(!arguments.length)throw new TypeError("A parameter was missing for `IDBIndex.get`.");return this.__fetchIndexData(a,"value",!0)},g.prototype.getKey=function(a){if(!arguments.length)throw new TypeError("A parameter was missing for `IDBIndex.getKey`.");return this.__fetchIndexData(a,"key",!0)},g.prototype.getAll=function(){var a=Array.prototype.slice.call(arguments),b=a[0],c=a[1];return this.__fetchIndexData(b,"value",!1,c)},g.prototype.getAllKeys=function(){var a=Array.prototype.slice.call(arguments),b=a[0],c=a[1];return this.__fetchIndexData(b,"key",!1,c)},g.prototype.count=function(){var a=this,b=arguments[0];return m.instanceOf(b,p.IDBKeyRange)?k.IDBCursorWithValue.__createInstance(b,"next",a.objectStore,a,m.escapeIndexNameForSQLKeyColumn(a.name),"value",!0).__req:a.__fetchIndexData(b,"count",!1)},g.prototype.__renameIndex=function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,f=a.__currentName,g=m.escapeStoreNameForSQL(f),h=m.escapeStoreNameForSQL("tmp_"+f),i=d.map(function(a){return a[0]}),j=d.map(function(a){return a.join(" ")}),k=j.length?j.join(", ")+", ":"",l=i.length?i.join(", ")+", ":"";a.transaction.__addNonRequestToTransactionQueue(function(a,d,f,i){var j="ALTER TABLE "+g+" RENAME TO "+h;a.executeSql(j,[],function(a,d){var j="CREATE TABLE "+g+"("+k+m.escapeIndexNameForSQL(c)+" BLOB)";a.executeSql(j,[],function(a,d){var j="INSERT INTO "+g+"("+l+m.escapeIndexNameForSQL(c)+") SELECT "+l+m.escapeIndexNameForSQL(b)+" FROM "+h;a.executeSql(j,[],function(a,b){var c="DROP TABLE "+h;a.executeSql(c,[],function(a,b){if(e)return void e(a,f);f()},function(a,b){i(b)})},function(a,b){i(b)})})},function(a,b){i(b)})})},Object.defineProperty(g,Symbol.hasInstance,{value:function(a){return m.isObj(a)&&"function"==typeof a.openCursor&&"boolean"==typeof a.multiEntry}}),y.forEach(function(a){Object.defineProperty(g.prototype,a,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}})}),Object.defineProperty(g.prototype,"name",{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")},set:function(a){throw new TypeError("Illegal invocation")}}),g.prototype[Symbol.toStringTag]="IDBIndexPrototype",Object.defineProperty(g,"prototype",{writable:!1}),c.buildFetchIndexDataSQL=i,c.executeFetchIndexData=h,c.IDBIndex=g,c.default=g},{"./CFG":31,"./DOMException":32,"./IDBCursor":35,"./IDBKeyRange":39,"./IDBObjectStore":40,"./IDBTransaction":42,"./Key":44,"./Sca":45,"./util":49}],39:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(){throw new TypeError("Illegal constructor")}function f(a,b,c,d,e,f){if(a&&(void 0!==a.lower||void 0!==a.upper)){e&&c.push("AND");var g=void 0,h=void 0,i=void 0!==a.lower,k=void 0!==a.upper;if(i&&(g=f?a.__lowerCached:j.encode(a.lower)),k&&(h=f?a.__upperCached:j.encode(a.upper)),i){if(d.push(l.escapeSQLiteStatement(g)),k&&g===h&&!a.lowerOpen&&!a.upperOpen)return void c.push(b,"=","?");c.push(b,a.lowerOpen?">":">=","?")}i&&k&&c.push("AND"),k&&(c.push(b,a.upperOpen?"<":"<=","?"),d.push(l.escapeSQLiteStatement(h)))}}function g(a,b){if(l.instanceOf(a,e))return"[object IDBKeyRange]"!==!a.toString()?e.__createInstance(a.lower,a.upper,a.lowerOpen,a.upperOpen):a;{if(null!=a)return j.convertValueToKeyRethrowingAndIfInvalid(a),e.only(a);if(b)throw(0,h.createDOMException)("DataError","No key or range was specified")}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.convertValueToKeyRange=c.IDBKeyRange=c.setSQLForKeyRange=void 0;var h=a("./DOMException"),i=a("./Key"),j=d(i),k=a("./util"),l=d(k),m=["lower","upper","lowerOpen","upperOpen"],n=e;e.__createInstance=function(a,b,c,d){function e(){if(this[Symbol.toStringTag]="IDBKeyRange",void 0===a&&void 0===b)throw(0,h.createDOMException)("DataError","Both arguments to the key range method cannot be undefined");var e=void 0,f=void 0;if(void 0!==a&&(e=j.roundTrip(a),j.convertValueToKeyRethrowingAndIfInvalid(a)),void 0!==b&&(f=j.roundTrip(b),j.convertValueToKeyRethrowingAndIfInvalid(b)),void 0!==a&&void 0!==b&&a!==b&&j.encode(a)>j.encode(b))throw(0,h.createDOMException)("DataError","`lower` must not be greater than `upper` argument in `bound()` call.");this.__lower=e,this.__upper=f,this.__lowerOpen=!!c,this.__upperOpen=!!d}return e.prototype=n.prototype,new e},e.prototype.includes=function(a){if(!l.isObj(this)||"boolean"!=typeof this.__lowerOpen)throw new TypeError("Illegal invocation");if(!arguments.length)throw new TypeError("IDBKeyRange.includes requires a key argument");return j.convertValueToKeyRethrowingAndIfInvalid(a),j.isKeyInRange(a,this)},e.only=function(a){if(!arguments.length)throw new TypeError("IDBKeyRange.only requires a value argument");return e.__createInstance(a,a,!1,!1)},e.lowerBound=function(a){if(!arguments.length)throw new TypeError("IDBKeyRange.lowerBound requires a value argument");return e.__createInstance(a,void 0,arguments[1],!0)},e.upperBound=function(a){if(!arguments.length)throw new TypeError("IDBKeyRange.upperBound requires a value argument");return e.__createInstance(void 0,a,!0,arguments[1])},e.bound=function(a,b){if(arguments.length<=1)throw new TypeError("IDBKeyRange.bound requires lower and upper arguments");return e.__createInstance(a,b,arguments[2],arguments[3])},e.prototype[Symbol.toStringTag]="IDBKeyRangePrototype",m.forEach(function(a){Object.defineProperty(e.prototype,"__"+a,{enumerable:!1,configurable:!1,writable:!0}),Object.defineProperty(e.prototype,a,{enumerable:!0,configurable:!0,get:function(){if(!l.isObj(this)||"boolean"!=typeof this.__lowerOpen)throw new TypeError("Illegal invocation");return this["__"+a]}})}),Object.defineProperty(e,Symbol.hasInstance,{value:function(a){return l.isObj(a)&&"upper"in a&&"boolean"==typeof a.lowerOpen}}),Object.defineProperty(e,"prototype",{writable:!1}),c.setSQLForKeyRange=f,c.IDBKeyRange=e,c.convertValueToKeyRange=g,c.default=e},{"./DOMException":32,"./Key":44,"./util":49}],40:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}function f(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function g(){throw new TypeError("Illegal constructor")}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=a("./DOMException"),j=a("./IDBCursor"),k=a("./IDBKeyRange"),l=a("./DOMStringList"),m=e(l),n=a("./util"),o=d(n),p=a("./Key"),q=d(p),r=a("./IDBIndex"),s=a("./IDBTransaction"),t=e(s),u=a("./Sca"),v=d(u),w=a("./CFG"),x=e(w),y=a("sync-promise"),z=e(y),A=["keyPath","indexNames","transaction","autoIncrement"],B=g;g.__createInstance=function(a,b){function c(){var c=this;c[Symbol.toStringTag]="IDBObjectStore",o.defineReadonlyProperties(this,A),c.__name=c.__originalName=a.name,c.__keyPath=Array.isArray(a.keyPath)?a.keyPath.slice():a.keyPath,c.__transaction=b,c.__idbdb=a.idbdb,c.__cursors=a.cursors||[],c.__autoIncrement=!!a.autoInc,c.__indexes={},c.__indexHandles={},c.__indexNames=m.default.__createInstance();var d=a.indexList;for(var e in d)if(d.hasOwnProperty(e)){var f=r.IDBIndex.__createInstance(c,d[e]);c.__indexes[f.name]=f,f.__deleted||c.indexNames.push(f.name)}c.__oldIndexNames=c.indexNames.clone(),Object.defineProperty(this,"__currentName",{get:function(){return"__pendingName"in this?this.__pendingName:this.name}}),Object.defineProperty(this,"name",{enumerable:!1,configurable:!1,get:function(){return this.__name},set:function(a){var b=this;a=o.convertToDOMString(a);var c=b.name;if(B.__invalidStateIfDeleted(b),t.default.__assertVersionChange(b.transaction),t.default.__assertActive(b.transaction),c!==a){if(b.__idbdb.__objectStores[a]&&!b.__idbdb.__objectStores[a].__pendingDelete)throw(0,i.createDOMException)("ConstraintError",'Object store "'+a+'" already exists in '+b.__idbdb.name);b.__name=a;var d=b.__idbdb.__objectStores[c];d.__name=a,b.__idbdb.__objectStores[a]=d,delete b.__idbdb.__objectStores[c],b.__idbdb.objectStoreNames.splice(b.__idbdb.objectStoreNames.indexOf(c),1,a);var e=b.transaction.__storeHandles[c];e.__name=a,b.transaction.__storeHandles[a]=e,b.__pendingName=c;var f='UPDATE __sys__ SET "name" = ? WHERE "name" = ?',g=[o.escapeSQLiteStatement(a),o.escapeSQLiteStatement(c)];x.default.DEBUG&&console.log(f,g),b.transaction.__addNonRequestToTransactionQueue(function(d,e,h,i){d.executeSql(f,g,function(d,e){var f="ALTER TABLE "+o.escapeStoreNameForSQL(c)+" RENAME TO "+o.escapeStoreNameForSQL(a);x.default.DEBUG&&console.log(f),d.executeSql(f,[],function(a,c){delete b.__pendingName,h()})},function(a,b){i(b)})})}}})}return c.prototype=B.prototype,new c},g.__clone=function(a,b){var c=g.__createInstance({name:a.__currentName,keyPath:Array.isArray(a.keyPath)?a.keyPath.slice():a.keyPath,autoInc:a.autoIncrement,indexList:{},idbdb:a.__idbdb,cursors:a.__cursors},b);return["__indexes","__indexNames","__oldIndexNames","__deleted","__pendingDelete","__pendingCreate","__originalName"].forEach(function(b){c[b]=a[b]}),c},g.__invalidStateIfDeleted=function(a,b){if(a.__deleted||a.__pendingDelete||a.__pendingCreate&&a.transaction&&a.transaction.__errored)throw(0,i.createDOMException)("InvalidStateError",b||"This store has been deleted")},g.__createObjectStore=function(a,b){var c=b.__currentName;b.__pendingCreate=!0,a.__objectStores[c]=b,a.objectStoreNames.push(c);var d=a.__versionTransaction;t.default.__assertVersionChange(d);var e=d.__storeHandles;return(!e[c]||e[c].__pendingDelete||e[c].__deleted)&&(e[c]=g.__clone(b,d)),d.__addNonRequestToTransactionQueue(function(a,d,e,f){function g(a,b){x.default.DEBUG&&console.log(b),f((0,i.createDOMException)("UnknownError",'Could not create object store "'+c+'"',b))}var h=["CREATE TABLE",o.escapeStoreNameForSQL(c),"(key BLOB",b.autoIncrement?"UNIQUE, inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");x.default.DEBUG&&console.log(h),a.executeSql(h,[],function(a,d){v.encode(b.keyPath,function(d){a.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?,?)",[o.escapeSQLiteStatement(c),d,b.autoIncrement,"{}",1],function(){delete b.__pendingCreate,delete b.__deleted,e(b)},g)})},g)}),e[c]},g.__deleteObjectStore=function(a,b){b.__pendingDelete=!0,b.__indexNames=m.default.__createInstance(),a.objectStoreNames.splice(a.objectStoreNames.indexOf(b.__currentName),1);var c=a.__versionTransaction.__storeHandles[b.__currentName];c&&(c.__indexNames=m.default.__createInstance(),c.__pendingDelete=!0);var d=a.__versionTransaction;t.default.__assertVersionChange(d),d.__addNonRequestToTransactionQueue(function(a,d,e,f){function g(a,b){x.default.DEBUG&&console.log(b),f((0,i.createDOMException)("UnknownError","Could not delete ObjectStore",b))}a.executeSql('SELECT "name" FROM __sys__ WHERE "name" = ?',[o.escapeSQLiteStatement(b.__currentName)],function(a,d){d.rows.length>0&&a.executeSql("DROP TABLE "+o.escapeStoreNameForSQL(b.__currentName),[],function(){a.executeSql('DELETE FROM __sys__ WHERE "name" = ?',[o.escapeSQLiteStatement(b.__currentName)],function(){delete b.__pendingDelete,b.__deleted=!0,c&&(delete c.__pendingDelete,c.__deleted=!0),e()},g)},g)})})},g.prototype.__validateKeyAndValueAndCloneValue=function(a,b,c){var d=this;if(null!==d.keyPath){if(void 0!==b)throw(0,i.createDOMException)("DataError","The object store uses in-line keys and the key parameter was provided",d);var e=v.clone(a);if(b=q.extractKeyValueDecodedFromValueUsingKeyPath(e,d.keyPath),b.invalid)throw(0,i.createDOMException)("DataError","KeyPath was specified, but key was invalid.");if(b.failure){if(!c){if(!d.autoIncrement)throw(0,i.createDOMException)("DataError","Could not evaluate a key from keyPath and there is no key generator");if(!q.checkKeyCouldBeInjectedIntoValue(e,d.keyPath))throw(0,i.createDOMException)("DataError","A key could not be injected into a value");return[void 0,e]
}throw(0,i.createDOMException)("DataError","Could not evaluate a key from keyPath")}return[b.value,e]}if(void 0===b){if(!d.autoIncrement)throw(0,i.createDOMException)("DataError","The object store uses out-of-line keys and has no key generator and the key parameter was not provided.",d);b=void 0}else q.convertValueToKeyRethrowingAndIfInvalid(b);return[b,v.clone(a)]},g.prototype.__deriveKey=function(a,b,c,d,e){function f(){v.encode(c,function(a){a=v.decode(a),d(a)})}var g=this;g.autoIncrement?void 0===c?q.generateKeyForStore(a,g,function(a,c){if(a)return void e((0,i.createDOMException)("ConstraintError","The key generator's current number has reached the maximum safe integer limit"));null!==g.keyPath&&q.injectKeyIntoValueUsingKeyPath(b,c,g.keyPath),d(c)},e):q.possiblyUpdateKeyGenerator(a,g,c,f,e):f()},g.prototype.__insertData=function(a,b,c,d,e,g){var h=this,j={},k=Object.keys(h.__indexes).map(function(b){return new z.default(function(d,e){function g(a){void 0!==l&&(j[a.__currentName]=q.encode(l,a.multiEntry))}var k=h.__indexes[b];if(k.__pendingCreate||k.__deleted)return void d();var l=void 0;try{if(l=q.extractKeyValueDecodedFromValueUsingKeyPath(c,k.keyPath,k.multiEntry),l.invalid||l.failure)throw new Error("Go to catch")}catch(a){return void d()}if(l=l.value,k.unique){var m=k.multiEntry&&Array.isArray(l),n=(0,r.buildFetchIndexDataSQL)(!0,k,l,"key",m);r.executeFetchIndexData.apply(void 0,[null].concat(f(n),[a,null,function(a){if(void 0===a)return g(k),void d();e((0,i.createDOMException)("ConstraintError","Index already contains a record equal to "+(m?"one of the subkeys of":"")+"`indexKey`"))},e]))}else g(k),d()})});z.default.all(k).then(function(){var c=["INSERT INTO",o.escapeStoreNameForSQL(h.__currentName),"("],f=[" VALUES ("],k=[];void 0!==d&&(c.push(o.sqlQuote("key"),","),f.push("?,"),k.push(o.escapeSQLiteStatement(q.encode(d))));for(var l in j)c.push(o.escapeIndexNameForSQL(l)+","),f.push("?,"),k.push(o.escapeSQLiteStatement(j[l]));c.push(o.sqlQuote("value")+" )"),f.push("?)"),k.push(o.escapeSQLiteStatement(b));var m=c.join(" ")+f.join(" ");x.default.DEBUG&&console.log("SQL for adding",m,k),a.executeSql(m,k,function(a,b){e(d)},function(a,b){g((0,i.createDOMException)("ConstraintError",b.message,b))})}).catch(function(a){g(a)})},g.prototype.add=function(a){var b=this,c=arguments[1];if(!(b instanceof g))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No value was specified");g.__invalidStateIfDeleted(b),t.default.__assertActive(b.transaction),b.transaction.__assertWritable();var d=b.transaction.__createRequest(b),e=b.__validateKeyAndValueAndCloneValue(a,c,!1),f=h(e,2),i=f[0],j=f[1];return g.__storingRecordObjectStore(d,b,j,!0,i),d},g.prototype.put=function(a){var b=this,c=arguments[1];if(!(b instanceof g))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No value was specified");g.__invalidStateIfDeleted(b),t.default.__assertActive(b.transaction),b.transaction.__assertWritable();var d=b.transaction.__createRequest(b),e=b.__validateKeyAndValueAndCloneValue(a,c,!1),f=h(e,2),i=f[0],j=f[1];return g.__storingRecordObjectStore(d,b,j,!1,i),d},g.prototype.__overwrite=function(a,b,c,d){var e=this,f="DELETE FROM "+o.escapeStoreNameForSQL(e.__currentName)+' WHERE "key" = ?',g=q.encode(b);a.executeSql(f,[o.escapeSQLiteStatement(g)],function(a,d){x.default.DEBUG&&console.log("Did the row with the",b,"exist? ",d.rowsAffected),c(a)},function(a,b){d(b)})},g.__storingRecordObjectStore=function(a,b,c,d){var e=arguments[4];b.transaction.__pushToQueue(a,function(a,f,g,h){b.__deriveKey(a,c,e,function(e){v.encode(c,function(f){function i(a){b.__insertData(a,f,c,e,function(){b.__cursors.forEach(function(a){a.__invalidateCache()}),g.apply(void 0,arguments)},h)}if(!d)return void b.__overwrite(a,e,i,h);i(a)})},h)})},g.prototype.__get=function(a,b,c,d){var e=this;void 0!==d&&(d=o.enforceRange(d,"unsigned long")),g.__invalidStateIfDeleted(e),t.default.__assertActive(e.transaction);var f=(0,k.convertValueToKeyRange)(a,!c),h=b?"key":"value",i=["SELECT",o.sqlQuote(h),"FROM",o.escapeStoreNameForSQL(e.__currentName)],j=[];if(void 0!==f&&(i.push("WHERE"),(0,k.setSQLForKeyRange)(f,o.sqlQuote("key"),i,j)),c||(d=1),d){if("number"!=typeof d||isNaN(d)||!isFinite(d))throw new TypeError("The count parameter must be a finite number");i.push("LIMIT",d)}return i=i.join(" "),e.transaction.__addToTransactionQueue(function(a,d,f,g){x.default.DEBUG&&console.log("Fetching",e.__currentName,j),a.executeSql(i,j,function(a,d){x.default.DEBUG&&console.log("Fetched data",d);var e=void 0;try{if(0===d.rows.length)return c?f([]):f();if(e=[],b)for(var g=0;g<d.rows.length;g++)e.push(q.decode(o.unescapeSQLiteResponse(d.rows.item(g).key),!1));else for(var h=0;h<d.rows.length;h++)e.push(v.decode(o.unescapeSQLiteResponse(d.rows.item(h).value)));c||(e=e[0])}catch(a){x.default.DEBUG&&console.log(a)}f(e)},function(a,b){g(b)})},void 0,e)},g.prototype.get=function(a){if(!arguments.length)throw new TypeError("A parameter was missing for `IDBObjectStore.get`.");return this.__get(a)},g.prototype.getKey=function(a){if(!arguments.length)throw new TypeError("A parameter was missing for `IDBObjectStore.getKey`.");return this.__get(a,!0)},g.prototype.getAll=function(){if(!arguments.length)throw new TypeError("A parameter was missing for `IDBObjectStore.getAll`.");var a=Array.prototype.slice.call(arguments),b=a[0],c=a[1];return this.__get(b,!1,!0,c)},g.prototype.getAllKeys=function(){if(!arguments.length)throw new TypeError("A parameter was missing for `IDBObjectStore.getAllKeys`.");var a=Array.prototype.slice.call(arguments),b=a[0],c=a[1];return this.__get(b,!0,!0,c)},g.prototype.delete=function(a){var b=this;if(!(this instanceof g))throw new TypeError("Illegal invocation");if(!arguments.length)throw new TypeError("A parameter was missing for `IDBObjectStore.delete`.");g.__invalidStateIfDeleted(b),t.default.__assertActive(b.transaction),b.transaction.__assertWritable();var c=(0,k.convertValueToKeyRange)(a,!0),d=["DELETE FROM",o.escapeStoreNameForSQL(b.__currentName),"WHERE"],e=[];(0,k.setSQLForKeyRange)(c,o.sqlQuote("key"),d,e);var f=d.join(" ");return b.transaction.__addToTransactionQueue(function(a,c,d,g){x.default.DEBUG&&console.log("Deleting",b.__currentName,e),a.executeSql(f,e,function(a,c){x.default.DEBUG&&console.log("Deleted from database",c.rowsAffected),b.__cursors.forEach(function(a){a.__invalidateCache()}),d()},function(a,b){g(b)})},void 0,b)},g.prototype.clear=function(){var a=this;if(!(this instanceof g))throw new TypeError("Illegal invocation");return g.__invalidStateIfDeleted(a),t.default.__assertActive(a.transaction),a.transaction.__assertWritable(),a.transaction.__addToTransactionQueue(function(b,c,d,e){b.executeSql("DELETE FROM "+o.escapeStoreNameForSQL(a.__currentName),[],function(b,c){x.default.DEBUG&&console.log("Cleared all records from database",c.rowsAffected),a.__cursors.forEach(function(a){a.__invalidateCache()}),d()},function(a,b){e(b)})},void 0,a)},g.prototype.count=function(){var a=this,b=arguments[0];if(!(a instanceof g))throw new TypeError("Illegal invocation");return g.__invalidStateIfDeleted(a),t.default.__assertActive(a.transaction),j.IDBCursorWithValue.__createInstance(b,"next",a,a,"key","value",!0).__req},g.prototype.openCursor=function(){var a=this,b=Array.prototype.slice.call(arguments),c=b[0],d=b[1];if(!(a instanceof g))throw new TypeError("Illegal invocation");g.__invalidStateIfDeleted(a);var e=j.IDBCursorWithValue.__createInstance(c,d,a,a,"key","value");return a.__cursors.push(e),e.__req},g.prototype.openKeyCursor=function(){var a=this;if(!(a instanceof g))throw new TypeError("Illegal invocation");g.__invalidStateIfDeleted(a);var b=Array.prototype.slice.call(arguments),c=b[0],d=b[1],e=j.IDBCursor.__createInstance(c,d,a,a,"key","key");return a.__cursors.push(e),e.__req},g.prototype.index=function(a){var b=this;if(!(b instanceof g))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No index name was specified");g.__invalidStateIfDeleted(b),t.default.__assertNotFinished(b.transaction);var c=b.__indexes[a];if(!c||c.__deleted)throw(0,i.createDOMException)("NotFoundError",'Index "'+a+'" does not exist on '+b.__currentName);return(!b.__indexHandles[a]||b.__indexes[a].__pendingDelete||b.__indexes[a].__deleted)&&(b.__indexHandles[a]=r.IDBIndex.__clone(c,b)),b.__indexHandles[a]},g.prototype.createIndex=function(a,b){var c=this,d=arguments[2];if(!(c instanceof g))throw new TypeError("Illegal invocation");if(a=String(a),0===arguments.length)throw new TypeError("No index name was specified");if(1===arguments.length)throw new TypeError("No key path was specified");if(t.default.__assertVersionChange(c.transaction),g.__invalidStateIfDeleted(c),t.default.__assertActive(c.transaction),c.__indexes[a]&&!c.__indexes[a].__deleted&&!c.__indexes[a].__pendingDelete)throw(0,i.createDOMException)("ConstraintError",'Index "'+a+'" already exists on '+c.__currentName);if(b=o.convertToSequenceDOMString(b),!o.isValidKeyPath(b))throw(0,i.createDOMException)("SyntaxError","A valid keyPath must be supplied");if(Array.isArray(b)&&d&&d.multiEntry)throw(0,i.createDOMException)("InvalidAccessError","The keyPath argument was an array and the multiEntry option is true.");d=d||{};var e={columnName:a,keyPath:b,optionalParams:{unique:!!d.unique,multiEntry:!!d.multiEntry}},f=r.IDBIndex.__createInstance(c,e);return r.IDBIndex.__createIndex(c,f),f},g.prototype.deleteIndex=function(a){var b=this;if(!(b instanceof g))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No index name was specified");t.default.__assertVersionChange(b.transaction),g.__invalidStateIfDeleted(b),t.default.__assertActive(b.transaction);var c=b.__indexes[a];if(!c)throw(0,i.createDOMException)("NotFoundError",'Index "'+a+'" does not exist on '+b.__currentName);r.IDBIndex.__deleteIndex(b,c)},A.forEach(function(a){Object.defineProperty(g.prototype,a,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}})}),Object.defineProperty(g.prototype,"name",{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")},set:function(a){throw new TypeError("Illegal invocation")}}),g.prototype[Symbol.toStringTag]="IDBObjectStorePrototype",Object.defineProperty(g,"prototype",{writable:!1}),c.default=g,b.exports=c.default},{"./CFG":31,"./DOMException":32,"./DOMStringList":33,"./IDBCursor":35,"./IDBIndex":38,"./IDBKeyRange":39,"./IDBTransaction":42,"./Key":44,"./Sca":45,"./util":49,"sync-promise":6}],41:[function(a,b,c){"use strict";function d(){throw new TypeError("Illegal constructor")}function e(){throw new TypeError("Illegal constructor")}Object.defineProperty(c,"__esModule",{value:!0}),c.IDBOpenDBRequest=c.IDBRequest=void 0;var f=a("./DOMException"),g=a("eventtarget"),h=a("./util"),i=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(h),j=["onsuccess","onerror"],k=["source","transaction","readyState"],l=["result","error"];d.__super=function(){var a=this;this[Symbol.toStringTag]="IDBRequest",this.__setOptions({legacyOutputDidListenersThrowFlag:!0}),l.forEach(function(a){Object.defineProperty(this,"__"+a,{enumerable:!1,configurable:!1,writable:!0}),Object.defineProperty(this,a,{enumerable:!0,configurable:!0,get:function(){if("done"!==this.__readyState)throw(0,f.createDOMException)("InvalidStateError","Can't get "+a+"; the request is still pending.");return this["__"+a]}})},this),i.defineReadonlyProperties(this,k),j.forEach(function(b){Object.defineProperty(a,b,{configurable:!0,get:function(){return this["__"+b]},set:function(a){this["__"+b]=a}})},this),j.forEach(function(b){a[b]=null}),this.__result=void 0,this.__error=this.__source=this.__transaction=null,this.__readyState="pending"},d.__createInstance=function(){return new d.__super},d.prototype=g.EventTargetFactory.createInstance({extraProperties:["debug"]}),d.prototype[Symbol.toStringTag]="IDBRequestPrototype",d.prototype.__getParent=function(){return"[object IDBOpenDBRequest]"===this.toString()?null:this.__transaction},k.forEach(function(a){Object.defineProperty(d.prototype,a,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}})}),l.forEach(function(a){Object.defineProperty(d.prototype,a,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}})}),j.forEach(function(a){Object.defineProperty(d.prototype,a,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")},set:function(a){throw new TypeError("Illegal invocation")}})}),Object.defineProperty(d.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:d}),d.__super.prototype=d.prototype,Object.defineProperty(d,"prototype",{writable:!1});var m=["onblocked","onupgradeneeded"];e.prototype=Object.create(d.prototype),Object.defineProperty(e.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:e});var n=e;e.__createInstance=function(){function a(){var a=this;d.__super.call(this),this[Symbol.toStringTag]="IDBOpenDBRequest",this.__setOptions({legacyOutputDidListenersThrowFlag:!0,extraProperties:["oldVersion","newVersion","debug"]}),m.forEach(function(b){Object.defineProperty(a,b,{configurable:!0,get:function(){return this["__"+b]},set:function(a){this["__"+b]=a}})},this),m.forEach(function(b){a[b]=null})}return a.prototype=n.prototype,new a},m.forEach(function(a){Object.defineProperty(e.prototype,a,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")},set:function(a){throw new TypeError("Illegal invocation")}})}),e.prototype[Symbol.toStringTag]="IDBOpenDBRequestPrototype",Object.defineProperty(e,"prototype",{writable:!1}),c.IDBRequest=d,c.IDBOpenDBRequest=e},{"./DOMException":32,"./util":49,eventtarget:3}],42:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){throw new TypeError("Illegal constructor")}Object.defineProperty(c,"__esModule",{value:!0});var f=a("./Event"),g=a("./DOMException"),h=a("./IDBRequest"),i=a("./util"),j=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(i),k=a("./IDBObjectStore"),l=d(k),m=a("./CFG"),n=d(m),o=a("eventtarget"),p=a("sync-promise"),q=d(p),r=0,s=["onabort","oncomplete","onerror"],t=["objectStoreNames","mode","db","error"],u=e;e.__createInstance=function(a,b,c){function d(){var d=this,e=this;e[Symbol.toStringTag]="IDBTransaction",j.defineReadonlyProperties(e,t),e.__id=++r,e.__active=!0,e.__running=!1,e.__errored=!1,e.__requests=[],e.__objectStoreNames=b,e.__mode=c,e.__db=a,e.__error=null,e.__setOptions({legacyOutputDidListenersThrowFlag:!0}),t.forEach(function(a){Object.defineProperty(d,a,{configurable:!0})}),s.forEach(function(a){Object.defineProperty(d,a,{enumerable:!0,configurable:!0,get:function(){return this["__"+a]},set:function(b){this["__"+a]=b}})}),s.forEach(function(a){d[a]=null}),e.__storeHandles={},setTimeout(function(){e.__executeRequests()},0)}return d.prototype=u.prototype,new d},e.prototype=o.EventTargetFactory.createInstance({defaultSync:!0,extraProperties:["complete"]}),e.prototype.__transFinishedCb=function(a,b){if(a)return void b(!0);b()},e.prototype.__executeRequests=function(){function a(){function a(){b.__completed=!0,n.default.DEBUG&&console.log("Transaction completed");var a=(0,f.createEvent)("complete");try{b.__internal=!0,b.dispatchEvent(a),b.__internal=!1,b.dispatchEvent((0,f.createEvent)("__complete"))}catch(a){throw b.__internal=!1,b.__errored=!0,a}finally{b.__storeHandles={}}}if(b.__active=!1,b.__requestsFinished=!0,"readwrite"===b.mode)return b.__transactionFinished?void a():void(b.__transactionEndCallback=a);if("readonly"===b.mode)return void a();var c=(0,f.createEvent)("__beforecomplete");c.complete=a,b.dispatchEvent(c)}var b=this;if(b.__running)return void(n.default.DEBUG&&console.log("Looks like the request set is already running",b.mode));b.__running=!0,b.db.__db["readonly"===b.mode?"readTransaction":"transaction"](function(c){function d(a,c){if(!b.__errored&&!b.__requestsFinished&&(c&&(i.req=c),"done"!==i.req.__readyState)){i.req.__readyState="done",i.req.__result=a,i.req.__error=null,b.__active=!0;var d=(0,f.createEvent)("success");if(i.req.dispatchEvent(d),d.__legacyOutputDidListenersThrowError)return(0,g.logError)("Error","An error occurred in a success handler attached to request chain",d.__legacyOutputDidListenersThrowError),void b.__abortTransaction((0,g.createDOMException)("AbortError","A request was aborted."));h()}}function e(){if(!(b.__errored||b.__requestsFinished||i.req&&"done"===i.req.__readyState)){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];var e=(0,g.findError)(c);if(!i.req)return void b.__abortTransaction(e);i.req.__readyState="done",i.req.__error=e,i.req.__result=void 0,i.req.addLateEventListener("error",function(a){a.cancelable&&a.defaultPrevented&&!a.__legacyOutputDidListenersThrowError&&h()}),i.req.addDefaultEventListener("error",function(){b.__abortTransaction(i.req.__error)}),b.__active=!0;var j=(0,f.createEvent)("error",e,{bubbles:!0,cancelable:!0});i.req.dispatchEvent(j),j.__legacyOutputDidListenersThrowError&&((0,g.logError)("Error","An error occurred in an error handler attached to request chain",j.__legacyOutputDidListenersThrowError),j.preventDefault(),b.__abortTransaction((0,g.createDOMException)("AbortError","A request was aborted.")))}}function h(){if(!b.__errored&&!b.__requestsFinished)if(++j>=b.__requests.length)b.__requests=[],b.__active&&a();else try{if(i=b.__requests[j],!i.req)return void i.op(c,i.args,h,e);if("done"===i.req.__readyState)return;i.op(c,i.args,d,e,h)}catch(a){e(a)}}b.__tx=c;var i=null,j=-1;h()},function(a){if(!0!==a){var c=(0,g.webSQLErrback)(a);b.__abortTransaction(c)}},function(){if(b.__transFinishedCb===e.prototype.__transFinishedCb)return b.__transactionEndCallback||b.__requestsFinished?void(b.__transactionEndCallback&&!b.__completed&&b.__transFinishedCb(b.__errored,b.__transactionEndCallback)):void(b.__transactionFinished=!0)},function(a,c,d,e,f){return!(!a.readOnly&&!c)||(b.__transFinishedCb=function(a,b){a?e(a,b):f(b)},b.__transactionEndCallback&&!b.__completed&&b.__transFinishedCb(b.__errored,b.__transactionEndCallback),!1)})},e.prototype.__createRequest=function(a){var b=this,c=h.IDBRequest.__createInstance();return c.__source=void 0!==a?a:b.db,c.__transaction=b,c},e.prototype.__addToTransactionQueue=function(a,b,c){var d=this.__createRequest(c);return this.__pushToQueue(d,a,b),d},e.prototype.__addNonRequestToTransactionQueue=function(a,b,c){this.__pushToQueue(null,a,b)},e.prototype.__pushToQueue=function(a,b,c){this.__assertActive(),this.__requests.push({op:b,args:c,req:a})},e.prototype.__assertActive=function(){if(!this.__active)throw(0,g.createDOMException)("TransactionInactiveError","A request was placed against a transaction which is currently not active, or which is finished")},e.prototype.__assertWritable=function(){if("readonly"===this.mode)throw(0,g.createDOMException)("ReadOnlyError","The transaction is read only")},e.prototype.__assertVersionChange=function(){e.__assertVersionChange(this)},e.prototype.objectStore=function(a){var b=this;if(!(b instanceof e))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No object store name was specified");if(e.__assertNotFinished(b),-1===b.__objectStoreNames.indexOf(a))throw(0,g.createDOMException)("NotFoundError",a+" is not participating in this transaction");var c=b.db.__objectStores[a];if(!c)throw(0,g.createDOMException)("NotFoundError",a+" does not exist in "+b.db.name);return(!b.__storeHandles[a]||b.__storeHandles[a].__pendingDelete||b.__storeHandles[a].__deleted)&&(b.__storeHandles[a]=l.default.__clone(c,b)),b.__storeHandles[a]},e.prototype.__abortTransaction=function(a){function b(b,d){b?d&&"number"==typeof d.code?n.default.DEBUG&&console.log("Rollback erred; feature is probably not supported as per WebSQL",c):n.default.DEBUG&&console.log("Rollback succeeded",c):n.default.DEBUG&&console.log("Rollback not possible due to missing transaction",c),c.dispatchEvent((0,f.createEvent)("__preabort")),c.__requests.filter(function(a){return a.req&&"done"!==a.req.__readyState}).reduce(function(a,b){return a.then(function(){b.req.__readyState="done",b.req.__result=void 0,b.req.__error=(0,g.createDOMException)("AbortError","A request was aborted.");var a=(0,f.createEvent)("error",b.req.__error,{bubbles:!0,cancelable:!0});return new q.default(function(c){setTimeout(function(){b.req.dispatchEvent(a),c()})})})},q.default.resolve()).then(function(){var b=(0,f.createEvent)("abort",a,{bubbles:!0,cancelable:!1});setTimeout(function(){c.__abortFinished=!0,c.dispatchEvent(b),c.__storeHandles={},c.dispatchEvent((0,f.createEvent)("__abort"))})})}var c=this;(0,g.logError)("Error","An error occurred in a transaction",a),c.__errored||(c.__errored=!0,"versionchange"===c.mode&&(c.db.__version=c.db.__oldVersion,c.db.__objectStoreNames=c.db.__oldObjectStoreNames,c.__objectStoreNames=c.db.__oldObjectStoreNames,Object.values(c.db.__objectStores).concat(Object.values(c.__storeHandles)).forEach(function(a){"__pendingName"in a&&c.db.__oldObjectStoreNames.indexOf(a.__pendingName)>-1&&(a.__name=a.__originalName),a.__indexNames=a.__oldIndexNames,delete a.__pendingDelete,Object.values(a.__indexes).concat(Object.values(a.__indexHandles)).forEach(function(b){"__pendingName"in b&&a.__oldIndexNames.indexOf(b.__pendingName)>-1&&(b.__name=b.__originalName),delete b.__pendingDelete})})),c.__active=!1,null!==a&&(c.__error=a),c.__requestsFinished&&setTimeout(function(){throw a},0),c.__transFinishedCb(!0,function(a){if(a&&c.__tx){if("readwrite"===c.mode)return c.__transactionFinished?void b():void(c.__transactionEndCallback=b);try{c.__tx.executeSql("ROLLBACK",[],b,b)}catch(a){b()}}else b(null,{code:0})}))},e.prototype.abort=function(){var a=this;if(!(a instanceof e))throw new TypeError("Illegal invocation");n.default.DEBUG&&console.log("The transaction was aborted",a),e.__assertNotFinished(a),a.__abortTransaction(null)},e.prototype[Symbol.toStringTag]="IDBTransactionPrototype",e.__assertVersionChange=function(a){if(!a||"versionchange"!==a.mode)throw(0,g.createDOMException)("InvalidStateError","Not a version transaction")},e.__assertNotVersionChange=function(a){if(a&&"versionchange"===a.mode)throw(0,g.createDOMException)("InvalidStateError","Cannot be called during a version transaction")},e.__assertNotFinished=function(a){if(!a||a.__completed||a.__abortFinished||a.__errored)throw(0,g.createDOMException)("InvalidStateError","Transaction finished by commit or abort")},e.__assertNotFinishedObjectStoreMethod=function(a){try{e.__assertNotFinished(a)}catch(b){if(a&&!a.__completed&&!a.__abortFinished)throw(0,g.createDOMException)("TransactionInactiveError","A request was placed against a transaction which is currently not active, or which is finished");throw b}},e.__assertActive=function(a){if(!a||!a.__active)throw(0,g.createDOMException)("TransactionInactiveError","A request was placed against a transaction which is currently not active, or which is finished")},e.prototype.__getParent=function(){return this.db},s.forEach(function(a){Object.defineProperty(e.prototype,a,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")},set:function(a){throw new TypeError("Illegal invocation")}})}),t.forEach(function(a){Object.defineProperty(e.prototype,a,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}})}),Object.defineProperty(e.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:e}),Object.defineProperty(e,"prototype",{writable:!1}),c.default=e,b.exports=c.default},{"./CFG":31,"./DOMException":32,"./Event":34,"./IDBObjectStore":40,"./IDBRequest":41,"./util":49,eventtarget:3,"sync-promise":6}],43:[function(a,b,c){"use strict";function d(a){e.ShimEvent.call(this,a),this[Symbol.toStringTag]="IDBVersionChangeEvent",this.toString=function(){return"[object IDBVersionChangeEvent]"},this.__eventInitDict=arguments[1]||{}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./Event"),f=a("./util"),g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(f),h=["oldVersion","newVersion"];d.prototype=Object.create(e.ShimEvent.prototype),d.prototype[Symbol.toStringTag]="IDBVersionChangeEventPrototype",h.forEach(function(a){Object.defineProperty(d.prototype,a,{enumerable:!0,configurable:!0,get:function(){if(!(this instanceof d))throw new TypeError("Illegal invocation");return this.__eventInitDict&&this.__eventInitDict[a]||("oldVersion"===a?0:null)}})}),Object.defineProperty(d,Symbol.hasInstance,{value:function(a){return g.isObj(a)&&"oldVersion"in a&&"boolean"==typeof a.defaultPrevented}}),Object.defineProperty(d.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:d}),Object.defineProperty(d,"prototype",{writable:!1}),c.default=d,b.exports=c.default},{"./Event":34,"./util":49}],44:[function(a,b,c){"use strict";function d(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function e(a){return a=a.toString(32),1===a.length?"0"+a:a}function f(a){return(a+j(11)).slice(0,11)}function g(a){for(var b="",c=0;c<a.length;c++)b+=(31-parseInt(a[c],32)).toString(32);return b}function h(a,b){if((b=parseInt(b,32))<0)return i(parseInt(a,32)*Math.pow(32,b-10));if(b<11){var c=a.slice(0,b);c=parseInt(c,32);var d=a.slice(b);return d=parseInt(d,32)*Math.pow(32,b-11),i(c+d)}var e=a+j(b-11);return parseInt(e,32)}function i(a,b){return b=b||16,parseFloat(a.toPrecision(b))}function j(a){return"0".repeat(a)}function k(a){return"-"+a}function l(a){if(Array.isArray(a))return"array";if(M.isDate(a))return"date";if(M.isBinary(a))return"binary";var b=void 0===a?"undefined":J(a);return["string","number"].includes(b)?b:"invalid"}function m(a,b){return p(a,b,!1,!0)}function n(a){return p(a,null,!0,!0)}function o(a){var b=0,c=0;if(ArrayBuffer.isView(a)){if(void 0===a.buffer)throw new TypeError("Could not copy the bytes held by a buffer source as the buffer was undefined.");b=a.byteOffset,c=a.byteLength}else c=a.byteLength;return new Uint8Array(a.buffer||a,b,c)}function p(a,b,c,d){if(b=b||[],b.includes(a))return{type:"array",invalid:!0,message:"An array key cannot be circular"};var e=l(a),f={type:e,value:a};switch(e){case"number":return Number.isNaN(a)?{type:"NaN",invalid:!0}:f;case"string":return f;case"binary":return{type:"binary",value:o(a)};case"array":var g=a.length;b.push(a);for(var h=[],i=0;i<g;i++){if(!c&&!Object.prototype.hasOwnProperty.call(a,i))return{type:e,invalid:!0,message:"Does not have own index property"};try{var j=function(){var f=a[i],g=p(f,b,!1,d);if(g.invalid)return c?"continue":{v:{type:e,invalid:!0,message:"Bad array entry value-to-key conversion"}};(!c||!d&&h.every(function(a){return 0!==(0,N.cmp)(a,g.value)})||d&&h.every(function(a){return 0!==(0,N.cmp)(a,g)}))&&h.push(d?g:g.value)}();switch(j){case"continue":continue;default:if("object"===(void 0===j?"undefined":J(j)))return j.v}}catch(a){if(!c)throw a}}return{type:e,value:h};case"date":return Number.isNaN(a.getTime())?{type:e,invalid:!0,message:"Not a valid date"}:d?{type:e,value:a.getTime()}:{type:e,value:new Date(a.getTime())};case"invalid":default:var k=null===a?"null":void 0===a?"undefined":J(a);return{type:k,invalid:!0,message:"Not a valid key; type "+k}}}function q(a,b){return p(a,null,!0,b)}function r(a,b){var c=m(a,b);if(c.invalid)throw(0,K.createDOMException)("DataError",c.message||"Not a valid key; type: "+c.type);return c}function s(a,b,c){return u(a,b,c,!0)}function t(a,b,c){return v(a,b,c,!0)}function u(a,b,c,d){var e=v(a,b,c,d);return e.failure?e:c?q(e.value,d):p(e.value,null,!1,d)}function v(a,b,c,d){if(Array.isArray(b)){var e=[];return b.some(function(b){var f=v(a,b,c,d);if(f.failure)return!0;e.push(f.value)},[])?{failure:!0}:{value:e}}return""===b?{value:a}:b.split(".").some(function(b,c){if("length"!==b||"string"!=typeof a&&!Array.isArray(a))if(M.isBlob(a))switch(b){case"size":case"type":a=a[b]}else{if(!M.isFile(a))return!M.isObj(a)||!Object.prototype.hasOwnProperty.call(a,b)||void 0===(a=a[b]);switch(b){case"name":case"lastModified":a=a[b];break;case"lastModifiedDate":a=new Date(a.lastModified)}}else a=a.length})?{failure:!0}:{value:a}}function w(a,b,c){for(var d=c.split("."),e=d.pop(),f=0;f<d.length;f++){var g=d[f];Object.prototype.hasOwnProperty.call(a,g)||(a[g]={}),a=a[g]}a[e]=b}function x(a,b){var c=b.split(".");c.pop();for(var d=0;d<c.length;d++){if(!M.isObj(a))return!1;var e=c[d];if(!Object.prototype.hasOwnProperty.call(a,e))return!0;a=a[e]}return M.isObj(a)}function y(a,b,c){var d=void 0===b.lower,e=void 0===b.upper,f=C(a,!0),g=c?b.__lowerCached:C(b.lower,!0),h=c?b.__upperCached:C(b.upper,!0);return void 0!==b.lower&&(b.lowerOpen&&f>g&&(d=!0),!b.lowerOpen&&f>=g&&(d=!0)),void 0!==b.upper&&(b.upperOpen&&f<h&&(e=!0),!b.upperOpen&&f<=h&&(e=!0)),d&&e}function z(a,b){return"array"===S[b.slice(0,1)]?b.indexOf(a)>1:b===a}function A(a,b){var c=[];if(Array.isArray(a))for(var d=0;d<a.length;d++){var e=a[d];if(Array.isArray(e)){if(b&&b.lower===b.upper)continue;if(1!==e.length){var f=A(e,b);f.length>0&&c.push(e);continue}e=e[0]}(null==b||y(e,b,!0))&&c.push(e)}else(null==b||y(a,b,!0))&&c.push(a);return c}function B(a){var b=a.type,c=a.value;switch(b){case"number":case"string":return c;case"array":for(var d=[],e=c.length,f=0;f<e;){var g=B(c[f]);d[f]=g,f++}return d;case"date":return new Date(c);case"binary":var h=c.length,i=new ArrayBuffer(h);return new Uint8Array(i,c.byteOffset||0,c.byteLength).set(c),i;case"invalid":default:throw new Error("Bad key")}}function C(a,b){return void 0===a?null:U[l(a)].encode(a,b)}function D(a,b){if("string"==typeof a)return U[S[a.slice(0,1)]].decode(a,b)}function E(a,b){return D(C(a,b),b)}function F(a,b,c,d){a.executeSql('SELECT "currNum" FROM __sys__ WHERE "name" = ?',[M.escapeSQLiteStatement(b.__currentName)],function(a,b){c(1!==b.rows.length?1:b.rows.item(0).currNum)},function(a,b){d((0,K.createDOMException)("DataError","Could not get the auto increment value for key",b))})}function G(a,b,c,d,e){var f='UPDATE __sys__ SET "currNum" = ? WHERE "name" = ?';c=c===V?c+2:c+1;var g=[c,M.escapeSQLiteStatement(b.__currentName)];P.default.DEBUG&&console.log(f,g),a.executeSql(f,g,function(a,b){d(c)},function(a,b){e((0,K.createDOMException)("UnknownError","Could not set the auto increment value for key",b))})}function H(a,b,c,d){F(a,b,function(e){if(e>V)return c("failure");G(a,b,e,function(){c(null,e)},d)},d)}function I(a,b,c,d,e){"number"!=typeof c||c<1?d():F(a,b,function(f){var g=Math.floor(Math.min(c,V));g>=f?G(a,b,g,d,e):d()},e)}Object.defineProperty(c,"__esModule",{value:!0}),c.possiblyUpdateKeyGenerator=c.generateKeyForStore=c.findMultiEntryMatches=c.isKeyInRange=c.isMultiEntryMatch=c.checkKeyCouldBeInjectedIntoValue=c.injectKeyIntoValueUsingKeyPath=c.extractKeyValueDecodedFromValueUsingKeyPath=c.evaluateKeyPathOnValue=c.extractKeyFromValueUsingKeyPath=c.convertValueToKeyRethrowingAndIfInvalid=c.convertValueToMultiEntryKey=c.convertValueToKey=c.convertValueToMultiEntryKeyDecoded=c.convertValueToKeyValueDecoded=c.convertKeyToValue=c.roundTrip=c.decode=c.encode=void 0;var J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},K=a("./DOMException"),L=a("./util"),M=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(L),N=a("./IDBFactory"),O=a("./CFG"),P=function(a){return a&&a.__esModule?a:{default:a}}(O),Q={invalid:100,number:200,
date:300,string:400,binary:500,array:600},R=Object.keys(Q);R.forEach(function(a){Q[a]=String.fromCharCode(Q[a])});var S=R.reduce(function(a,b){return a[Q[b]]=b,a},{}),T=["negativeInfinity","bigNegative","smallNegative","smallPositive","bigPositive","positiveInfinity"],U={invalid:{encode:function(a){return Q.invalid+"-"},decode:function(a){}},number:{encode:function(a){var b=Math.abs(a).toString(32),c=b.indexOf(".");b=-1!==c?b.replace(".",""):b;var d=b.search(/[^0]/);b=b.slice(d);var h=void 0,i=void 0,k=void 0;return isFinite(a)?a<0?a>-1?(h=T.indexOf("smallNegative"),i=e(d),k=g(f(b))):(h=T.indexOf("bigNegative"),i=g(e(-1!==c?c:b.length)),k=g(f(b))):a<1?(h=T.indexOf("smallPositive"),i=g(e(d)),k=f(b)):(h=T.indexOf("bigPositive"),i=e(-1!==c?c:b.length),k=f(b)):(i=j(2),k=j(11),h=T.indexOf(a>0?"positiveInfinity":"negativeInfinity")),Q.number+"-"+h+i+k},decode:function(a){var b=+a.substr(2,1),c=a.substr(3,2),d=a.substr(5,11);switch(T[b]){case"negativeInfinity":return-1/0;case"positiveInfinity":return 1/0;case"bigPositive":return h(d,c);case"smallPositive":return c=k(g(c)),h(d,c);case"smallNegative":return c=k(c),d=g(d),-h(d,c);case"bigNegative":return c=g(c),d=g(d),-h(d,c);default:throw new Error("Invalid number.")}}},string:{encode:function(a,b){return b&&(a=a.replace(/(.)/g,"-$1")+" "),Q.string+"-"+a},decode:function(a,b){return a=a.slice(2),b&&(a=a.substr(0,a.length-1).replace(/-(.)/g,"$1")),a}},array:{encode:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=C(d,!0);b[c]=e}return b.push(Q.invalid+"-"),Q.array+"-"+JSON.stringify(b)},decode:function(a){var b=JSON.parse(a.slice(2));b.pop();for(var c=0;c<b.length;c++){var d=b[c],e=D(d,!0);b[c]=e}return b}},date:{encode:function(a){return Q.date+"-"+a.toJSON()},decode:function(a){return new Date(a.slice(2))}},binary:{encode:function(a){return Q.binary+"-"+(a.byteLength?[].concat(d(o(a))).map(function(a){return M.padStart(a,3,"0")}):"")},decode:function(a){var b=a.slice(2),c=b.length?b.split(",").map(function(a){return parseInt(a,10)}):[],d=new ArrayBuffer(c.length);return new Uint8Array(d).set(c),d}}},V=9007199254740992;c.encode=C,c.decode=D,c.roundTrip=E,c.convertKeyToValue=B,c.convertValueToKeyValueDecoded=p,c.convertValueToMultiEntryKeyDecoded=q,c.convertValueToKey=m,c.convertValueToMultiEntryKey=n,c.convertValueToKeyRethrowingAndIfInvalid=r,c.extractKeyFromValueUsingKeyPath=s,c.evaluateKeyPathOnValue=t,c.extractKeyValueDecodedFromValueUsingKeyPath=u,c.injectKeyIntoValueUsingKeyPath=w,c.checkKeyCouldBeInjectedIntoValue=x,c.isMultiEntryMatch=z,c.isKeyInRange=y,c.findMultiEntryMatches=A,c.generateKeyForStore=H,c.possiblyUpdateKeyGenerator=I},{"./CFG":31,"./DOMException":32,"./IDBFactory":37,"./util":49}],45:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){var c=void 0;try{c=m.stringifySync(a)}catch(a){if(i.default.hasConstructorOf(a,ReferenceError)||i.default.hasConstructorOf(a,l.ShimDOMException))throw(0,l.createDOMException)("DataCloneError","The object cannot be cloned.");throw a}return b&&b(c),c}function f(a){return m.parse(a)}function g(a){return f(e(a))}Object.defineProperty(c,"__esModule",{value:!0}),c.clone=c.decode=c.encode=void 0;var h=a("typeson"),i=d(h),j=a("typeson-registry/presets/structured-cloning-throwing"),k=d(j),l=a("./DOMException"),m=(new i.default).register(k.default);c.encode=e,c.decode=f,c.clone=g},{"./DOMException":32,typeson:29,"typeson-registry/presets/structured-cloning-throwing":8}],46:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.UnicodeIDStart="(?:[$A-Z_a-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309B-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D])",c.UnicodeIDContinue="(?:[$0-9A-Z_a-z\\xAA\\xB5\\xB7\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B4\\u08B6-\\u08BD\\u08D4-\\u08E1\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C80-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D54-\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1369-\\u1371\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFB-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C5\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE3E\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC00-\\uDC4A\\uDC50-\\uDC59\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC36\\uDC38-\\uDC40\\uDC50-\\uDC59\\uDC72-\\uDC8F\\uDC92-\\uDCA7\\uDCA9-\\uDCB6]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F\\uDFE0]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6\\uDD00-\\uDD4A\\uDD50-\\uDD59]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF])"},{}],47:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("./UnicodeIdentifiers"),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(e),g=a("./setGlobalVars"),h=d(g);d(a("./CFG")).default.win="undefined"!=typeof window?window:self,(0,h.default)();var i=shimIndexedDB.__setUnicodeIdentifiers.bind(shimIndexedDB);shimIndexedDB.__setUnicodeIdentifiers=function(){i(f)},shimIndexedDB.__setUnicodeIdentifiers()},{"./CFG":31,"./UnicodeIdentifiers":46,"./setGlobalVars":48}],48:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(a&&"object"===(void 0===a?"undefined":i(a)))for(var c in a)f(c,a[c]);else{if(!(a in A.default))throw new Error(a+" is not a valid configuration property");A.default[a]=b}}function g(a,b){function c(a,b,c){if(!c||!Object.defineProperty)try{e[a]=b}catch(a){console.log(a)}if(e[a]!==b&&Object.defineProperty)try{var d=c||{};"value"in d||(d.get=function(){return b}),Object.defineProperty(e,a,d)}catch(a){}e[a]!==b&&"undefined"!=typeof console&&console.warn&&console.warn("Unable to shim "+a)}b&&f(b);var e=a||("undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==d?d:{});c("shimIndexedDB",o.shimIndexedDB,{enumerable:!1,configurable:!0}),e.shimIndexedDB&&(e.shimIndexedDB.__useShim=function(){function a(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c(a+"DOMException",e.indexedDB.modules.ShimDOMException),c(a+"DOMStringList",e.indexedDB.modules.ShimDOMStringList,{enumerable:!1,configurable:!0,writable:!0,value:e.indexedDB.modules.ShimDOMStringList}),c(a+"Event",e.indexedDB.modules.ShimEvent,{configurable:!0,writable:!0,value:e.indexedDB.modules.ShimEvent,enumerable:!1}),c(a+"CustomEvent",e.indexedDB.modules.ShimCustomEvent,{configurable:!0,writable:!0,value:e.indexedDB.modules.ShimCustomEvent,enumerable:!1}),c(a+"EventTarget",e.indexedDB.modules.ShimEventTarget,{configurable:!0,writable:!0,value:e.indexedDB.modules.ShimEventTarget,enumerable:!1})}var b=e.shimIndexedDB.modules.IDBFactory;if(void 0!==A.default.win.openDatabase){if(o.shimIndexedDB.__openDatabase=A.default.win.openDatabase.bind(A.default.win),[["indexedDB",o.shimIndexedDB],["IDBFactory",b],["IDBDatabase",y.default],["IDBObjectStore",s.default],["IDBIndex",u.default],["IDBTransaction",w.default],["IDBCursor",l.IDBCursor],["IDBCursorWithValue",l.IDBCursorWithValue],["IDBKeyRange",q.default],["IDBRequest",m.IDBRequest],["IDBOpenDBRequest",m.IDBOpenDBRequest],["IDBVersionChangeEvent",k.default]].forEach(function(a){var b=h(a,2);c(b[0],b[1],{enumerable:!1,configurable:!0})}),A.default.fullIDLSupport){Object.setPrototypeOf(e.IDBOpenDBRequest,e.IDBRequest),Object.setPrototypeOf(e.IDBCursorWithValue,e.IDBCursor);var d=e.shimIndexedDB.modules.ShimEvent,f=e.shimIndexedDB.modules.ShimEventTarget;Object.setPrototypeOf(y.default,f),Object.setPrototypeOf(m.IDBRequest,f),Object.setPrototypeOf(w.default,f),Object.setPrototypeOf(k.default,d),Object.setPrototypeOf(n.ShimDOMException,Error),Object.setPrototypeOf(n.ShimDOMException.prototype,Error.prototype)}e.indexedDB&&e.indexedDB.modules&&(A.default.addNonIDBGlobals&&a("Shim"),A.default.replaceNonIDBGlobals&&a()),e.shimIndexedDB.__setConnectionQueueOrigin()}},e.shimIndexedDB.__debug=function(a){A.default.DEBUG=a},e.shimIndexedDB.__setConfig=f,e.shimIndexedDB.__getConfig=function(a){if(!(a in A.default))throw new Error(a+" is not a valid configuration property");return A.default[a]},e.shimIndexedDB.__setUnicodeIdentifiers=function(a){f({UnicodeIDStart:a.UnicodeIDStart,UnicodeIDContinue:a.UnicodeIDContinue})}),"indexedDB"in e||"undefined"==typeof window||(e.indexedDB=e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.oIndexedDB||e.msIndexedDB);var g=!1;return"undefined"!=typeof navigator&&(/Android (?:2|3|4\.[0-3])/.test(navigator.userAgent)&&!navigator.userAgent.includes("Chrome")||(!navigator.userAgent.includes("Safari")||navigator.userAgent.includes("Chrome"))&&/(iPad|iPhone|iPod).* os 9_/i.test(navigator.userAgent)&&!window.MSStream)&&(g=!0),A.default.DEFAULT_DB_SIZE||(A.default.DEFAULT_DB_SIZE=1024*("undefined"!=typeof navigator&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?25:4)*1024),A.default.avoidAutoShim||e.indexedDB&&!g||void 0===A.default.win.openDatabase?(e.IDBDatabase=e.IDBDatabase||e.webkitIDBDatabase,e.IDBTransaction=e.IDBTransaction||e.webkitIDBTransaction||{},e.IDBCursor=e.IDBCursor||e.webkitIDBCursor,e.IDBKeyRange=e.IDBKeyRange||e.webkitIDBKeyRange):e.shimIndexedDB.__useShim(),e}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},j=a("./IDBVersionChangeEvent"),k=e(j),l=a("./IDBCursor"),m=a("./IDBRequest"),n=a("./DOMException"),o=a("./IDBFactory"),p=a("./IDBKeyRange"),q=e(p),r=a("./IDBObjectStore"),s=e(r),t=a("./IDBIndex"),u=e(t),v=a("./IDBTransaction"),w=e(v),x=a("./IDBDatabase"),y=e(x),z=a("./CFG"),A=e(z);c.default=g,b.exports=c.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./CFG":31,"./DOMException":32,"./IDBCursor":35,"./IDBDatabase":36,"./IDBFactory":37,"./IDBIndex":38,"./IDBKeyRange":39,"./IDBObjectStore":40,"./IDBRequest":41,"./IDBTransaction":42,"./IDBVersionChangeEvent":43}],49:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function f(a){return a.replace(/([\uD800-\uDBFF])(?![\uDC00-\uDFFF])|(^|[^\uD800-\uDBFF])([\uDC00-\uDFFF])/g,function(a,b,c,d){return b?"^2"+I(b.charCodeAt().toString(16),4,"0"):(c||"")+"^3"+I(d.charCodeAt().toString(16),4,"0")})}function g(a){return"_"+f(a.replace(/\^/g,"^^").replace(/\0/g,"^0").replace(/([A-Z])/g,"^$1"))}function h(a){return f(a.replace(/\^/g,"^^").replace(/\0/g,"^0"))}function i(a){return m(a).replace(/\^0/g,"\0").replace(/\^\^/g,"^")}function j(a){return a.replace(/"/g,'""')}function k(a){return'"'+j(a)+'"'}function l(a){if(L.default.escapeDatabaseName)return L.default.escapeDatabaseName(h(a));if(a="D"+g(a),!1!==L.default.escapeNFDForDatabaseNames&&(a=a.replace(new RegExp(N.default,"g"),function(a){return"^4"+I(a.codePointAt().toString(16),6,"0")})),!1!==L.default.databaseCharacterEscapeList&&(a=a.replace(L.default.databaseCharacterEscapeList?new RegExp(L.default.databaseCharacterEscapeList,"g"):/[\u0000-\u001F\u007F"*\/:<>?\\|]/g,function(a){return"^1"+I(a.charCodeAt().toString(16),2,"0")})),!1!==L.default.databaseNameLengthLimit&&a.length>=(L.default.databaseNameLengthLimit||254)-(!1!==L.default.addSQLiteExtension?7:0))throw new Error("Unexpectedly long database name supplied; length limit required for Node compatibility; passed length: "+a.length+"; length limit setting: "+(L.default.databaseNameLengthLimit||254)+".");return a+(!1!==L.default.addSQLiteExtension?".sqlite":"")}function m(a){return a.replace(/(\^+)3(d[0-9a-f]{3})/g,function(a,b,c){return b.length%2?String.fromCharCode(parseInt(c,16)):a}).replace(/(\^+)2(d[0-9a-f]{3})/g,function(a,b,c){return b.length%2?String.fromCharCode(parseInt(c,16)):a})}function n(a){return L.default.unescapeDatabaseName?L.default.unescapeDatabaseName(i(a)):m(a.slice(2).replace(/(\^+)1([0-9a-f]{2})/g,function(a,b,c){return b.length%2?String.fromCharCode(parseInt(c,16)):a}).replace(/(\^+)4([0-9a-f]{6})/g,function(a,b,c){return b.length%2?String.fromCodePoint(parseInt(c,16)):a})).replace(/(\^+)([A-Z])/g,function(a,b,c){return b.length%2?c:a}).replace(/(\^+)0/g,function(a,b){return b.length%2?"\0":a}).replace(/\^\^/g,"^")}function o(a){return k("S"+g(a))}function p(a){return k("I"+g(a))}function q(a){return"I"+g(a)}function r(a){return j(a).replace(/\^/g,"^^")}function s(a,b){return b[Symbol.hasInstance](a)}function t(a){return a&&"object"===(void 0===a?"undefined":J(a))}function u(a){return t(a)&&"function"==typeof a.getDate}function v(a){return t(a)&&"number"==typeof a.size&&"function"==typeof a.slice&&!("lastModified"in a)}function w(a){return t(a)&&"string"==typeof a.flags&&"function"==typeof a.exec}function x(a){return t(a)&&"string"==typeof a.name&&"function"==typeof a.slice&&"lastModified"in a}function y(a){return t(a)&&"number"==typeof a.byteLength&&("function"==typeof a.slice||"function"==typeof a.getFloat64)}function z(a){return t(a)&&"function"==typeof a[Symbol.iterator]}function A(a,b){b="string"==typeof b?[b]:b,b.forEach(function(b){Object.defineProperty(a,"__"+b,{enumerable:!1,configurable:!1,writable:!0}),Object.defineProperty(a,b,{enumerable:!0,configurable:!0,get:function(){return this["__"+b]}})})}function B(a){var b=L.default.UnicodeIDStart||"[$A-Z_a-z]",c=L.default.UnicodeIDContinue||"[$0-9A-Z_a-z]",d="(?:"+b+"|[$_]|\\\\"+O+")",e="(?:"+c+"|[$_]|\\\\"+O+"|\\u200C|\\u200D)";return new RegExp("^"+d+e+"*$").test(a)}function C(a){return"string"==typeof a&&(""===a||B(a)||a.split(".").every(B))}function D(a){return C(a)||Array.isArray(a)&&a.length&&Array.apply(null,a).every(function(a){return C(a)})}function E(a,b){a=Math.floor(Number(a));var c=void 0,d=void 0;switch(b){case"unsigned long long":c=9007199254740991,d=0;break;case"unsigned long":c=4294967295,d=0;break;default:throw new Error("Unrecognized type supplied to enforceRange")}if(isNaN(a)||!isFinite(a)||a>c||a<d)throw new TypeError("Invalid range: "+a);return a}function F(a,b){return null===a&&b?"":G(a)}function G(a){return""+a}function H(a){return z(a)?[].concat(e(a)).map(G):a}function I(a,b,c){return new Array(b-String(a).length+1).join(c)+a}Object.defineProperty(c,"__esModule",{value:!0}),c.padStart=c.convertToSequenceDOMString=c.convertToDOMString=c.enforceRange=c.isValidKeyPath=c.defineReadonlyProperties=c.isIterable=c.isBinary=c.isFile=c.isRegExp=c.isBlob=c.isDate=c.isObj=c.instanceOf=c.sqlQuote=c.sqlLIKEEscape=c.escapeIndexNameForSQLKeyColumn=c.escapeIndexNameForSQL=c.escapeStoreNameForSQL=c.unescapeDatabaseNameForSQLAndFiles=c.escapeDatabaseNameForSQLAndFiles=c.unescapeSQLiteResponse=c.escapeSQLiteStatement=void 0;var J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a
}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},K=a("./CFG"),L=d(K),M=a("unicode-9.0.0/Binary_Property/Expands_On_NFD/regex"),N=d(M),O="(?:u[0-9a-fA-F]{4}|u{0*(?:[0-9a-fA-F]{1,5}|10[0-9a-fA-F]{4})*})";c.escapeSQLiteStatement=h,c.unescapeSQLiteResponse=i,c.escapeDatabaseNameForSQLAndFiles=l,c.unescapeDatabaseNameForSQLAndFiles=n,c.escapeStoreNameForSQL=o,c.escapeIndexNameForSQL=p,c.escapeIndexNameForSQLKeyColumn=q,c.sqlLIKEEscape=r,c.sqlQuote=k,c.instanceOf=s,c.isObj=t,c.isDate=u,c.isBlob=v,c.isRegExp=w,c.isFile=x,c.isBinary=y,c.isIterable=z,c.defineReadonlyProperties=A,c.isValidKeyPath=D,c.enforceRange=E,c.convertToDOMString=F,c.convertToSequenceDOMString=H,c.padStart=I},{"./CFG":31,"unicode-9.0.0/Binary_Property/Expands_On_NFD/regex":30}]},{},[47]);
//# sourceMappingURL=indexeddbshim-UnicodeIdentifiers.min.js.map